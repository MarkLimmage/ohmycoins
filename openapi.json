{"openapi":"3.1.0","info":{"title":"Oh My Coins (OMC!)","version":"0.1.0"},"paths":{"/api/v1/login/access-token":{"post":{"tags":["login"],"summary":"Login Access Token","description":"OAuth2 compatible token login, get an access token for future requests","operationId":"login-login_access_token","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login-login_access_token"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/login/test-token":{"post":{"tags":["login"],"summary":"Test Token","description":"Test access token","operationId":"login-test_token","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/password-recovery/{email}":{"post":{"tags":["login"],"summary":"Recover Password","description":"Password Recovery","operationId":"login-recover_password","parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string","title":"Email"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reset-password/":{"post":{"tags":["login"],"summary":"Reset Password","description":"Reset password","operationId":"login-reset_password","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewPassword"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/password-recovery-html-content/{email}":{"post":{"tags":["login"],"summary":"Recover Password Html Content","description":"HTML Content for Password Recovery","operationId":"login-recover_password_html_content","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string","title":"Email"}}],"responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/":{"get":{"tags":["users"],"summary":"Read Users","description":"Retrieve users.","operationId":"users-read_users","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsersPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["users"],"summary":"Create User","description":"Create new user.","operationId":"users-create_user","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me":{"get":{"tags":["users"],"summary":"Read User Me","description":"Get current user.","operationId":"users-read_user_me","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["users"],"summary":"Delete User Me","description":"Delete own user.","operationId":"users-delete_user_me","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"patch":{"tags":["users"],"summary":"Update User Me","description":"Update own user.","operationId":"users-update_user_me","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateMe"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/me/password":{"patch":{"tags":["users"],"summary":"Update Password Me","description":"Update own password.","operationId":"users-update_password_me","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePassword"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/me/profile":{"get":{"tags":["users"],"summary":"Read User Profile","description":"Get current user's full profile including OMC-specific fields.","operationId":"users-read_user_profile","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfilePublic"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"patch":{"tags":["users"],"summary":"Update User Profile","description":"Update current user's profile with OMC-specific fields.","operationId":"users-update_user_profile","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfilePublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/signup":{"post":{"tags":["users"],"summary":"Register User","description":"Create new user without the need to be logged in.","operationId":"users-register_user","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegister"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}":{"get":{"tags":["users"],"summary":"Read User By Id","description":"Get a specific user by id.","operationId":"users-read_user_by_id","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["users"],"summary":"Update User","description":"Update a user.","operationId":"users-update_user","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["users"],"summary":"Delete User","description":"Delete a user.","operationId":"users-delete_user","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me/llm-credentials":{"get":{"tags":["users"],"summary":"List Llm Credentials","description":"List all LLM API credentials for the current user (BYOM feature).\n\nReturns masked credentials for security.\nOnly returns active credentials by default.","operationId":"users-list_llm_credentials","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UserLLMCredentialsPublic"},"type":"array","title":"Response Users-List Llm Credentials"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["users"],"summary":"Create Llm Credentials","description":"Create new LLM API credentials for the current user (BYOM feature).\n\nCredentials are encrypted before storage using AES-256.\nMultiple credentials can be stored (one per provider).","operationId":"users-create_llm_credentials","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLLMCredentialsCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLLMCredentialsPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/me/llm-credentials/{credential_id}/default":{"put":{"tags":["users"],"summary":"Set Default Llm Credential","description":"Set a specific LLM credential as the default for the user.\n\nUnsets any existing default credentials.","operationId":"users-set_default_llm_credential","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"credential_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Credential Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLLMCredentialsPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me/llm-credentials/{credential_id}":{"delete":{"tags":["users"],"summary":"Delete Llm Credential","description":"Delete (soft delete) an LLM credential.\n\nSets is_active=False instead of actually deleting for audit purposes.","operationId":"users-delete_llm_credential","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"credential_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Credential Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me/llm-credentials/validate":{"post":{"tags":["users"],"summary":"Validate Llm Credential","description":"Validate an LLM API key before saving it.\n\nTests the API key by making a simple request to the provider.\nDoes NOT save the credential - use POST /me/llm-credentials to save.","operationId":"users-validate_llm_credential","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLLMCredentialsValidate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLLMCredentialsValidationResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/utils/test-email/":{"post":{"tags":["utils"],"summary":"Test Email","description":"Test emails.","operationId":"utils-test_email","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"email_to","in":"query","required":true,"schema":{"type":"string","format":"email","title":"Email To"}}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/utils/health-check/":{"get":{"tags":["utils"],"summary":"Health Check","operationId":"utils-health_check","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"boolean","title":"Response Utils-Health Check"}}}}}}},"/api/v1/credentials/coinspot/":{"get":{"tags":["credentials"],"summary":"Get Credentials","description":"Get Coinspot API credentials for the current user.\n\nReturns masked credentials for security.","operationId":"credentials-get_credentials","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoinspotCredentialsPublic"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["credentials"],"summary":"Update Credentials","description":"Update Coinspot API credentials for the current user.","operationId":"credentials-update_credentials","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoinspotCredentialsUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoinspotCredentialsPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["credentials"],"summary":"Create Credentials","description":"Create new Coinspot API credentials for the current user.\n\nCredentials are encrypted before storage.","operationId":"credentials-create_credentials","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoinspotCredentialsCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoinspotCredentialsPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["credentials"],"summary":"Delete Credentials","description":"Delete Coinspot API credentials for the current user.","operationId":"credentials-delete_credentials","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/credentials/coinspot/validate":{"post":{"tags":["credentials"],"summary":"Validate Credentials","description":"Validate Coinspot API credentials by testing them against the Coinspot API.\n\nTests credentials by calling the Coinspot read-only balance endpoint.\nUpdates the validation status in the database if successful.","operationId":"credentials-validate_credentials","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/lab/agent/sessions":{"post":{"tags":["agent"],"summary":"Create Agent Session","description":"Create a new agent session.\n\nThis initiates a new agentic data science workflow with a user-defined goal.\n\nArgs:\n    session_in: Session creation data with user goal\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    Created agent session","operationId":"agent-create_agent_session","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentSessionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentSessionPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["agent"],"summary":"List Agent Sessions","description":"List all agent sessions for the current user.\n\nArgs:\n    db: Database session\n    current_user: Currently authenticated user\n    skip: Number of sessions to skip\n    limit: Maximum number of sessions to return\n\nReturns:\n    List of agent sessions","operationId":"agent-list_agent_sessions","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentSessionsPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lab/agent/sessions/{session_id}":{"get":{"tags":["agent"],"summary":"Get Agent Session","description":"Get details of a specific agent session.\n\nArgs:\n    session_id: ID of the session to retrieve\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    Agent session details\n\nRaises:\n    HTTPException: If session not found or user doesn't have access","operationId":"agent-get_agent_session","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentSessionPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["agent"],"summary":"Delete Agent Session","description":"Delete an agent session.\n\nThis cancels the session if running and deletes all associated data.\n\nArgs:\n    session_id: ID of the session to delete\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    Deletion confirmation\n\nRaises:\n    HTTPException: If session not found or user doesn't have access","operationId":"agent-delete_agent_session","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Agent-Delete Agent Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lab/agent/sessions/{session_id}/messages":{"get":{"tags":["agent"],"summary":"Get Session Messages","description":"Get all messages for an agent session.\n\nArgs:\n    session_id: ID of the session\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    List of session messages\n\nRaises:\n    HTTPException: If session not found or user doesn't have access","operationId":"agent-get_session_messages","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AgentSessionMessagePublic"},"title":"Response Agent-Get Session Messages"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lab/agent/sessions/{session_id}/artifacts":{"get":{"tags":["agent"],"summary":"Get Session Artifacts","description":"Get all artifacts for an agent session.\n\nArgs:\n    session_id: ID of the session\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    List of session artifacts\n\nRaises:\n    HTTPException: If session not found or user doesn't have access","operationId":"agent-get_session_artifacts","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AgentArtifactPublic"},"title":"Response Agent-Get Session Artifacts"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lab/agent/sessions/{session_id}/cancel":{"post":{"tags":["agent"],"summary":"Cancel Agent Session","description":"Cancel a running agent session.\n\nArgs:\n    session_id: ID of the session to cancel\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    Cancellation confirmation\n\nRaises:\n    HTTPException: If session not found or user doesn't have access","operationId":"agent-cancel_agent_session","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Agent-Cancel Agent Session"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lab/agent/sessions/{session_id}/clarifications":{"get":{"tags":["agent"],"summary":"Get Clarifications","description":"Get pending clarification questions for a session.\n\nReturns clarification questions that need user response\nbefore the workflow can proceed.","operationId":"agent-get_clarifications","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Agent-Get Clarifications"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["agent"],"summary":"Provide Clarifications","description":"Provide responses to clarification questions.\n\nThis resumes the workflow with the provided clarifications.","operationId":"agent-provide_clarifications","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClarificationResponse"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Agent-Provide Clarifications"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lab/agent/sessions/{session_id}/choices":{"get":{"tags":["agent"],"summary":"Get Choices","description":"Get available choices for user selection.\n\nReturns model choices with pros/cons and recommendation.","operationId":"agent-get_choices","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Agent-Get Choices"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["agent"],"summary":"Select Choice","description":"Select a choice from available options.\n\nThis resumes the workflow with the selected model.","operationId":"agent-select_choice","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChoiceSelection"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Agent-Select Choice"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lab/agent/sessions/{session_id}/pending-approvals":{"get":{"tags":["agent"],"summary":"Get Pending Approvals","description":"Get pending approval requests for a session.\n\nReturns approval requests that need user decision.","operationId":"agent-get_pending_approvals","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Agent-Get Pending Approvals"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lab/agent/sessions/{session_id}/approve":{"post":{"tags":["agent"],"summary":"Approve Request","description":"Approve or reject a pending approval request.\n\nThis resumes the workflow if approved, or stops it if rejected.","operationId":"agent-approve_request","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApprovalDecision"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Agent-Approve Request"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lab/agent/sessions/{session_id}/override-points":{"get":{"tags":["agent"],"summary":"Get Override Points Endpoint","description":"Get available override points for a session.\n\nReturns which overrides are currently available based on workflow state.","operationId":"agent-get_override_points_endpoint","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Agent-Get Override Points Endpoint"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lab/agent/sessions/{session_id}/override":{"post":{"tags":["agent"],"summary":"Apply Override","description":"Apply a user override to the workflow.\n\nAllows users to override agent decisions and modify workflow behavior.","operationId":"agent-apply_override","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OverrideRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Agent-Apply Override"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lab/agent/artifacts/{artifact_id}/download":{"get":{"tags":["agent"],"summary":"Download Artifact","description":"Download an artifact file.\n\nArgs:\n    artifact_id: Artifact ID\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    File response with artifact content\n\nRaises:\n    HTTPException: If artifact not found, user doesn't have access, or file not found","operationId":"agent-download_artifact","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"artifact_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Artifact Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lab/agent/artifacts/{artifact_id}":{"delete":{"tags":["agent"],"summary":"Delete Artifact","description":"Delete an artifact.\n\nArgs:\n    artifact_id: Artifact ID\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    Success message\n\nRaises:\n    HTTPException: If artifact not found or user doesn't have access","operationId":"agent-delete_artifact","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"artifact_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Artifact Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Agent-Delete Artifact"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/lab/agent/artifacts/stats":{"get":{"tags":["agent"],"summary":"Get Artifact Stats","description":"Get artifact storage statistics.\n\nArgs:\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    Storage statistics","operationId":"agent-get_artifact_stats","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Agent-Get Artifact Stats"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/floor/pnl/summary":{"get":{"tags":["pnl"],"summary":"Get Pnl Summary","description":"Get comprehensive P&L summary with performance metrics\n\nReturns realized and unrealized P&L along with detailed performance statistics\nincluding win rate, profit factor, largest trades, and total volume.\n\nQuery Parameters:\n- start_date: Optional start date for filtering trades (ISO 8601 format)\n- end_date: Optional end date for filtering trades (ISO 8601 format)\n\nReturns:\n- PnLSummaryResponse with all P&L metrics and statistics","operationId":"pnl-get_pnl_summary","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start date for P&L calculation (ISO format)","title":"Start Date"},"description":"Start date for P&L calculation (ISO format)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"End date for P&L calculation (ISO format)","title":"End Date"},"description":"End date for P&L calculation (ISO format)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PnLSummaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/floor/pnl/by-algorithm":{"get":{"tags":["pnl"],"summary":"Get Pnl By Algorithm","description":"Get P&L metrics grouped by trading algorithm\n\nShows which algorithms are performing well and which need improvement.\n\nQuery Parameters:\n- start_date: Optional start date for filtering trades\n- end_date: Optional end date for filtering trades\n\nReturns:\n- List of P&L metrics per algorithm","operationId":"pnl-get_pnl_by_algorithm","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start date for P&L calculation","title":"Start Date"},"description":"Start date for P&L calculation"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"End date for P&L calculation","title":"End Date"},"description":"End date for P&L calculation"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PnLByAlgorithmResponse"},"title":"Response Pnl-Get Pnl By Algorithm"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/floor/pnl/by-coin":{"get":{"tags":["pnl"],"summary":"Get Pnl By Coin","description":"Get P&L metrics grouped by cryptocurrency\n\nShows which cryptocurrencies are generating the most profit/loss.\n\nQuery Parameters:\n- start_date: Optional start date for filtering trades\n- end_date: Optional end date for filtering trades\n\nReturns:\n- List of P&L metrics per cryptocurrency","operationId":"pnl-get_pnl_by_coin","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start date for P&L calculation","title":"Start Date"},"description":"Start date for P&L calculation"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"End date for P&L calculation","title":"End Date"},"description":"End date for P&L calculation"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PnLByCoinResponse"},"title":"Response Pnl-Get Pnl By Coin"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/floor/pnl/history":{"get":{"tags":["pnl"],"summary":"Get Historical Pnl","description":"Get historical P&L data aggregated by time interval\n\nProvides time-series P&L data for charting and trend analysis.\n\nQuery Parameters:\n- start_date: Start date for historical data (required, ISO 8601 format)\n- end_date: End date for historical data (required, ISO 8601 format)\n- interval: Aggregation interval - 'hour', 'day', 'week', or 'month' (default: 'day')\n\nReturns:\n- List of historical P&L data points with timestamps","operationId":"pnl-get_historical_pnl","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"start_date","in":"query","required":true,"schema":{"type":"string","format":"date-time","description":"Start date for historical data (required)","title":"Start Date"},"description":"Start date for historical data (required)"},{"name":"end_date","in":"query","required":true,"schema":{"type":"string","format":"date-time","description":"End date for historical data (required)","title":"End Date"},"description":"End date for historical data (required)"},{"name":"interval","in":"query","required":false,"schema":{"type":"string","description":"Time interval (hour, day, week, month)","default":"day","title":"Interval"},"description":"Time interval (hour, day, week, month)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HistoricalPnLEntry"},"title":"Response Pnl-Get Historical Pnl"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/floor/pnl/realized":{"get":{"tags":["pnl"],"summary":"Get Realized Pnl","description":"Get realized P&L from completed trades\n\nRealized P&L is calculated from the difference between sell price and\nmatching buy prices using FIFO accounting method.\n\nQuery Parameters:\n- start_date: Optional start date for filtering trades\n- end_date: Optional end date for filtering trades\n- algorithm_id: Optional filter by algorithm UUID\n- coin_type: Optional filter by cryptocurrency symbol\n\nReturns:\n- RealizedPnLResponse with realized_pnl value","operationId":"pnl-get_realized_pnl","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start date for P&L calculation","title":"Start Date"},"description":"Start date for P&L calculation"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"End date for P&L calculation","title":"End Date"},"description":"End date for P&L calculation"},{"name":"algorithm_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by algorithm ID","title":"Algorithm Id"},"description":"Filter by algorithm ID"},{"name":"coin_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by cryptocurrency (e.g., 'BTC')","title":"Coin Type"},"description":"Filter by cryptocurrency (e.g., 'BTC')"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RealizedPnLResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/floor/pnl/unrealized":{"get":{"tags":["pnl"],"summary":"Get Unrealized Pnl","description":"Get unrealized P&L from current open positions\n\nUnrealized P&L is the difference between current market value\nand the total cost of current positions.\n\nQuery Parameters:\n- coin_type: Optional filter by cryptocurrency symbol\n\nReturns:\n- UnrealizedPnLResponse with unrealized_pnl value","operationId":"pnl-get_unrealized_pnl","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"coin_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by cryptocurrency (e.g., 'BTC')","title":"Coin Type"},"description":"Filter by cryptocurrency (e.g., 'BTC')"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnrealizedPnLResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/private/users/":{"post":{"tags":["private"],"summary":"Create User","description":"Create a new user.","operationId":"private-create_user","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrivateUserCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AgentArtifactPublic":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"session_id":{"type":"string","format":"uuid","title":"Session Id"},"artifact_type":{"type":"string","title":"Artifact Type"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"file_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Path"},"mime_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mime Type"},"size_bytes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Size Bytes"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","session_id","artifact_type","name","description","file_path","mime_type","size_bytes","created_at"],"title":"AgentArtifactPublic","description":"Schema for returning agent artifact via API"},"AgentSessionCreate":{"properties":{"user_goal":{"type":"string","maxLength":5000,"minLength":1,"title":"User Goal","description":"Natural language trading goal"}},"type":"object","required":["user_goal"],"title":"AgentSessionCreate","description":"Schema for creating a new agent session"},"AgentSessionMessagePublic":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"session_id":{"type":"string","format":"uuid","title":"Session Id"},"role":{"type":"string","title":"Role"},"content":{"type":"string","title":"Content"},"agent_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Agent Name"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","session_id","role","content","agent_name","created_at"],"title":"AgentSessionMessagePublic","description":"Schema for returning agent session message via API"},"AgentSessionPublic":{"properties":{"user_goal":{"type":"string","title":"User Goal","description":"Natural language trading goal from user"},"status":{"type":"string","title":"Status"},"id":{"type":"string","format":"uuid","title":"Id"},"user_id":{"type":"string","format":"uuid","title":"User Id"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"result_summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Result Summary"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"}},"type":"object","required":["user_goal","status","id","user_id","error_message","result_summary","created_at","updated_at","completed_at"],"title":"AgentSessionPublic","description":"Schema for returning agent session via API"},"AgentSessionsPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/AgentSessionPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"AgentSessionsPublic","description":"Schema for returning multiple agent sessions"},"ApprovalDecision":{"properties":{"approved":{"type":"boolean","title":"Approved"},"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason"}},"type":"object","required":["approved"],"title":"ApprovalDecision","description":"User approval or rejection."},"Body_login-login_access_token":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login-login_access_token"},"ChoiceSelection":{"properties":{"selected_model":{"type":"string","title":"Selected Model"}},"type":"object","required":["selected_model"],"title":"ChoiceSelection","description":"User selection from available choices."},"ClarificationResponse":{"properties":{"responses":{"additionalProperties":{"type":"string"},"type":"object","title":"Responses"}},"type":"object","required":["responses"],"title":"ClarificationResponse","description":"User responses to clarification questions."},"CoinspotCredentialsCreate":{"properties":{"api_key":{"type":"string","maxLength":255,"minLength":1,"title":"Api Key"},"api_secret":{"type":"string","maxLength":255,"minLength":1,"title":"Api Secret"}},"type":"object","required":["api_key","api_secret"],"title":"CoinspotCredentialsCreate","description":"Schema for creating Coinspot credentials"},"CoinspotCredentialsPublic":{"properties":{"is_validated":{"type":"boolean","title":"Is Validated"},"id":{"type":"string","format":"uuid","title":"Id"},"user_id":{"type":"string","format":"uuid","title":"User Id"},"api_key_masked":{"type":"string","title":"Api Key Masked","description":"Masked API key (last 4 characters visible)"},"last_validated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Validated At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["is_validated","id","user_id","api_key_masked","last_validated_at","created_at","updated_at"],"title":"CoinspotCredentialsPublic","description":"Schema for returning Coinspot credentials via API (with masked values)"},"CoinspotCredentialsUpdate":{"properties":{"api_key":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Api Key"},"api_secret":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Api Secret"}},"type":"object","title":"CoinspotCredentialsUpdate","description":"Schema for updating Coinspot credentials"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HistoricalPnLEntry":{"properties":{"timestamp":{"type":"string","title":"Timestamp"},"realized_pnl":{"type":"number","title":"Realized Pnl"},"interval":{"type":"string","title":"Interval"}},"type":"object","required":["timestamp","realized_pnl","interval"],"title":"HistoricalPnLEntry","description":"Single entry in historical P&L data"},"Message":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"Message"},"NewPassword":{"properties":{"token":{"type":"string","title":"Token"},"new_password":{"type":"string","maxLength":128,"minLength":8,"title":"New Password"}},"type":"object","required":["token","new_password"],"title":"NewPassword"},"OverrideRequest":{"properties":{"override_type":{"type":"string","title":"Override Type"},"override_data":{"additionalProperties":true,"type":"object","title":"Override Data"}},"type":"object","required":["override_type","override_data"],"title":"OverrideRequest","description":"User override request."},"PnLByAlgorithmResponse":{"properties":{"algorithm_id":{"type":"string","title":"Algorithm Id"},"realized_pnl":{"type":"number","title":"Realized Pnl"},"unrealized_pnl":{"type":"number","title":"Unrealized Pnl"},"total_pnl":{"type":"number","title":"Total Pnl"}},"type":"object","required":["algorithm_id","realized_pnl","unrealized_pnl","total_pnl"],"title":"PnLByAlgorithmResponse","description":"Response model for P&L grouped by algorithm"},"PnLByCoinResponse":{"properties":{"coin_type":{"type":"string","title":"Coin Type"},"realized_pnl":{"type":"number","title":"Realized Pnl"},"unrealized_pnl":{"type":"number","title":"Unrealized Pnl"},"total_pnl":{"type":"number","title":"Total Pnl"}},"type":"object","required":["coin_type","realized_pnl","unrealized_pnl","total_pnl"],"title":"PnLByCoinResponse","description":"Response model for P&L grouped by coin"},"PnLSummaryResponse":{"properties":{"realized_pnl":{"type":"number","title":"Realized Pnl"},"unrealized_pnl":{"type":"number","title":"Unrealized Pnl"},"total_pnl":{"type":"number","title":"Total Pnl"},"total_trades":{"type":"integer","title":"Total Trades"},"winning_trades":{"type":"integer","title":"Winning Trades"},"losing_trades":{"type":"integer","title":"Losing Trades"},"win_rate":{"type":"number","title":"Win Rate"},"profit_factor":{"type":"number","title":"Profit Factor"},"total_profit":{"type":"number","title":"Total Profit"},"total_loss":{"type":"number","title":"Total Loss"},"average_win":{"type":"number","title":"Average Win"},"average_loss":{"type":"number","title":"Average Loss"},"largest_win":{"type":"number","title":"Largest Win"},"largest_loss":{"type":"number","title":"Largest Loss"},"max_drawdown":{"type":"number","title":"Max Drawdown"},"sharpe_ratio":{"type":"number","title":"Sharpe Ratio"},"total_volume":{"type":"number","title":"Total Volume"},"total_fees":{"type":"number","title":"Total Fees"}},"type":"object","required":["realized_pnl","unrealized_pnl","total_pnl","total_trades","winning_trades","losing_trades","win_rate","profit_factor","total_profit","total_loss","average_win","average_loss","largest_win","largest_loss","max_drawdown","sharpe_ratio","total_volume","total_fees"],"title":"PnLSummaryResponse","description":"Response model for P&L summary"},"PrivateUserCreate":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"},"full_name":{"type":"string","title":"Full Name"},"is_verified":{"type":"boolean","title":"Is Verified","default":false}},"type":"object","required":["email","password","full_name"],"title":"PrivateUserCreate"},"RealizedPnLResponse":{"properties":{"realized_pnl":{"type":"number","title":"Realized Pnl"}},"type":"object","required":["realized_pnl"],"title":"RealizedPnLResponse","description":"Response model for realized P&L"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token"],"title":"Token"},"UnrealizedPnLResponse":{"properties":{"unrealized_pnl":{"type":"number","title":"Unrealized Pnl"}},"type":"object","required":["unrealized_pnl"],"title":"UnrealizedPnLResponse","description":"Response model for unrealized P&L"},"UpdatePassword":{"properties":{"current_password":{"type":"string","maxLength":128,"minLength":8,"title":"Current Password"},"new_password":{"type":"string","maxLength":128,"minLength":8,"title":"New Password"}},"type":"object","required":["current_password","new_password"],"title":"UpdatePassword"},"UserCreate":{"properties":{"email":{"type":"string","maxLength":255,"format":"email","title":"Email"},"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"full_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Full Name"},"timezone":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Timezone","default":"UTC"},"preferred_currency":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Preferred Currency","default":"AUD"},"risk_tolerance":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Risk Tolerance","default":"medium"},"trading_experience":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Trading Experience","default":"beginner"},"password":{"type":"string","maxLength":128,"minLength":8,"title":"Password"}},"type":"object","required":["email","password"],"title":"UserCreate"},"UserLLMCredentialsCreate":{"properties":{"provider":{"type":"string","maxLength":20,"minLength":1,"title":"Provider","description":"LLM provider: openai, google, anthropic"},"model_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Model Name","description":"Model name (e.g., gpt-4, gemini-1.5-pro)"},"api_key":{"type":"string","maxLength":500,"minLength":1,"title":"Api Key","description":"API key from the provider"},"is_default":{"type":"boolean","title":"Is Default","description":"Set as default LLM for this user","default":false}},"type":"object","required":["provider","api_key"],"title":"UserLLMCredentialsCreate","description":"Schema for creating user LLM credentials"},"UserLLMCredentialsPublic":{"properties":{"provider":{"type":"string","maxLength":20,"title":"Provider"},"model_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Model Name"},"is_default":{"type":"boolean","title":"Is Default","default":false},"is_active":{"type":"boolean","title":"Is Active","default":true},"id":{"type":"string","format":"uuid","title":"Id"},"user_id":{"type":"string","format":"uuid","title":"User Id"},"api_key_masked":{"type":"string","title":"Api Key Masked","description":"Masked API key (last 4 characters visible)"},"last_validated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Validated At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["provider","id","user_id","api_key_masked","last_validated_at","created_at","updated_at"],"title":"UserLLMCredentialsPublic","description":"Schema for returning user LLM credentials via API (with masked API key)"},"UserLLMCredentialsValidate":{"properties":{"provider":{"type":"string","title":"Provider","description":"LLM provider: openai, google, anthropic"},"api_key":{"type":"string","title":"Api Key","description":"API key to validate"},"model_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model Name","description":"Optional model name to test"}},"type":"object","required":["provider","api_key"],"title":"UserLLMCredentialsValidate","description":"Schema for validating an API key before saving"},"UserLLMCredentialsValidationResult":{"properties":{"is_valid":{"type":"boolean","title":"Is Valid"},"provider":{"type":"string","title":"Provider"},"model_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model Name"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"details":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Details"}},"type":"object","required":["is_valid","provider"],"title":"UserLLMCredentialsValidationResult","description":"Response for API key validation"},"UserProfilePublic":{"properties":{"email":{"type":"string","title":"Email"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"timezone":{"type":"string","title":"Timezone"},"preferred_currency":{"type":"string","title":"Preferred Currency"},"risk_tolerance":{"type":"string","title":"Risk Tolerance"},"trading_experience":{"type":"string","title":"Trading Experience"},"has_coinspot_credentials":{"type":"boolean","title":"Has Coinspot Credentials","default":false}},"type":"object","required":["email","timezone","preferred_currency","risk_tolerance","trading_experience"],"title":"UserProfilePublic","description":"Public user profile response with OMC-specific fields"},"UserProfileUpdate":{"properties":{"full_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Full Name"},"timezone":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Timezone"},"preferred_currency":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Preferred Currency"},"risk_tolerance":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Risk Tolerance"},"trading_experience":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Trading Experience"}},"type":"object","title":"UserProfileUpdate","description":"User profile update request with validation"},"UserPublic":{"properties":{"email":{"type":"string","maxLength":255,"format":"email","title":"Email"},"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"full_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Full Name"},"timezone":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Timezone","default":"UTC"},"preferred_currency":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Preferred Currency","default":"AUD"},"risk_tolerance":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Risk Tolerance","default":"medium"},"trading_experience":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Trading Experience","default":"beginner"},"id":{"type":"string","format":"uuid","title":"Id"}},"type":"object","required":["email","id"],"title":"UserPublic"},"UserRegister":{"properties":{"email":{"type":"string","maxLength":255,"format":"email","title":"Email"},"password":{"type":"string","maxLength":128,"minLength":8,"title":"Password"},"full_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Full Name"}},"type":"object","required":["email","password"],"title":"UserRegister"},"UserUpdate":{"properties":{"email":{"anyOf":[{"type":"string","maxLength":255,"format":"email"},{"type":"null"}],"title":"Email"},"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"full_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Full Name"},"timezone":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Timezone","default":"UTC"},"preferred_currency":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Preferred Currency","default":"AUD"},"risk_tolerance":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Risk Tolerance","default":"medium"},"trading_experience":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Trading Experience","default":"beginner"},"password":{"anyOf":[{"type":"string","maxLength":128,"minLength":8},{"type":"null"}],"title":"Password"}},"type":"object","title":"UserUpdate"},"UserUpdateMe":{"properties":{"full_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Full Name"},"email":{"anyOf":[{"type":"string","maxLength":255,"format":"email"},{"type":"null"}],"title":"Email"},"timezone":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Timezone"},"preferred_currency":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Preferred Currency"},"risk_tolerance":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Risk Tolerance"},"trading_experience":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Trading Experience"}},"type":"object","title":"UserUpdateMe"},"UsersPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/UserPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"UsersPublic"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/login/access-token"}}}}}}