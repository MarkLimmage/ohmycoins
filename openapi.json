{"openapi": "3.1.0", "info": {"title": "OMC dev-1771102136", "version": "0.1.0"}, "paths": {"/api/v1/login/access-token": {"post": {"tags": ["login"], "summary": "Login Access Token", "description": "OAuth2 compatible token login, get an access token for future requests", "operationId": "login-login_access_token", "requestBody": {"content": {"application/x-www-form-urlencoded": {"schema": {"$ref": "#/components/schemas/Body_login-login_access_token"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Token"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/login/test-token": {"post": {"tags": ["login"], "summary": "Test Token", "description": "Test access token", "operationId": "login-test_token", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserPublic"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/api/v1/password-recovery/{email}": {"post": {"tags": ["login"], "summary": "Recover Password", "description": "Password Recovery", "operationId": "login-recover_password", "parameters": [{"name": "email", "in": "path", "required": true, "schema": {"type": "string", "title": "Email"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/reset-password/": {"post": {"tags": ["login"], "summary": "Reset Password", "description": "Reset password", "operationId": "login-reset_password", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/NewPassword"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/password-recovery-html-content/{email}": {"post": {"tags": ["login"], "summary": "Recover Password Html Content", "description": "HTML Content for Password Recovery", "operationId": "login-recover_password_html_content", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "email", "in": "path", "required": true, "schema": {"type": "string", "title": "Email"}}], "responses": {"200": {"description": "Successful Response", "content": {"text/html": {"schema": {"type": "string"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/users/": {"get": {"tags": ["users"], "summary": "Read Users", "description": "Retrieve users.", "operationId": "users-read_users", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsersPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["users"], "summary": "Create User", "description": "Create new user.", "operationId": "users-create_user", "security": [{"OAuth2PasswordBearer": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserCreate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/users/me": {"get": {"tags": ["users"], "summary": "Read User Me", "description": "Get current user.", "operationId": "users-read_user_me", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserPublic"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}, "delete": {"tags": ["users"], "summary": "Delete User Me", "description": "Delete own user.", "operationId": "users-delete_user_me", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}, "patch": {"tags": ["users"], "summary": "Update User Me", "description": "Update own user.", "operationId": "users-update_user_me", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserUpdateMe"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/api/v1/users/me/password": {"patch": {"tags": ["users"], "summary": "Update Password Me", "description": "Update own password.", "operationId": "users-update_password_me", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/UpdatePassword"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/api/v1/users/me/profile": {"get": {"tags": ["users"], "summary": "Read User Profile", "description": "Get current user's full profile including OMC-specific fields.", "operationId": "users-read_user_profile", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserProfilePublic"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}, "patch": {"tags": ["users"], "summary": "Update User Profile", "description": "Update current user's profile with OMC-specific fields.", "operationId": "users-update_user_profile", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserProfileUpdate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserProfilePublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/api/v1/users/signup": {"post": {"tags": ["users"], "summary": "Register User", "description": "Create new user without the need to be logged in.", "operationId": "users-register_user", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserRegister"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/users/{user_id}": {"get": {"tags": ["users"], "summary": "Read User By Id", "description": "Get a specific user by id.", "operationId": "users-read_user_by_id", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "user_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "User Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "patch": {"tags": ["users"], "summary": "Update User", "description": "Update a user.", "operationId": "users-update_user", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "user_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "User Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["users"], "summary": "Delete User", "description": "Delete a user.", "operationId": "users-delete_user", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "user_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "User Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/users/me/llm-credentials": {"get": {"tags": ["users"], "summary": "List Llm Credentials", "description": "List all LLM API credentials for the current user (BYOM feature).\n\nReturns masked credentials for security.\nOnly returns active credentials by default.", "operationId": "users-list_llm_credentials", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/UserLLMCredentialsPublic"}, "type": "array", "title": "Response Users-List Llm Credentials"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}, "post": {"tags": ["users"], "summary": "Create Llm Credentials", "description": "Create new LLM API credentials for the current user (BYOM feature).\n\nCredentials are encrypted before storage using AES-256.\nMultiple credentials can be stored (one per provider).", "operationId": "users-create_llm_credentials", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserLLMCredentialsCreate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserLLMCredentialsPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/api/v1/users/me/llm-credentials/{credential_id}/default": {"put": {"tags": ["users"], "summary": "Set Default Llm Credential", "description": "Set a specific LLM credential as the default for the user.\n\nUnsets any existing default credentials.", "operationId": "users-set_default_llm_credential", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "credential_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Credential Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserLLMCredentialsPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/users/me/llm-credentials/{credential_id}": {"delete": {"tags": ["users"], "summary": "Delete Llm Credential", "description": "Delete (soft delete) an LLM credential.\n\nSets is_active=False instead of actually deleting for audit purposes.", "operationId": "users-delete_llm_credential", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "credential_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Credential Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/users/me/llm-credentials/validate": {"post": {"tags": ["users"], "summary": "Validate Llm Credential", "description": "Validate an LLM API key before saving it.\n\nTests the API key by making a simple request to the provider.\nDoes NOT save the credential - use POST /me/llm-credentials to save.", "operationId": "users-validate_llm_credential", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserLLMCredentialsValidate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserLLMCredentialsValidationResult"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/api/v1/utils/test-email/": {"post": {"tags": ["utils"], "summary": "Test Email", "description": "Test emails.", "operationId": "utils-test_email", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "email_to", "in": "query", "required": true, "schema": {"type": "string", "format": "email", "title": "Email To"}}], "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/utils/health-check/": {"get": {"tags": ["utils"], "summary": "Health Check", "operationId": "utils-health_check", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "boolean", "title": "Response Utils-Health Check"}}}}}}}, "/api/v1/admin/emergency-stop/activate": {"post": {"tags": ["admin"], "summary": "Activate Emergency Stop", "description": "Activate the emergency stop (Kill Switch).\nHalt all trading activities immediately.", "operationId": "admin-activate_emergency_stop", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Admin-Activate Emergency Stop"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/api/v1/admin/emergency-stop/clear": {"post": {"tags": ["admin"], "summary": "Clear Emergency Stop", "description": "Clear the emergency stop.\nResume trading activities.", "operationId": "admin-clear_emergency_stop", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Admin-Clear Emergency Stop"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/api/v1/admin/emergency-stop/status": {"get": {"tags": ["admin"], "summary": "Get Emergency Stop Status", "description": "Check the current status of the emergency stop.", "operationId": "admin-get_emergency_stop_status", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Admin-Get Emergency Stop Status"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/api/v1/risk/rules": {"get": {"tags": ["risk"], "summary": "Read Risk Rules", "description": "Retrieve risk rules.", "operationId": "risk-read_risk_rules", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RiskRules"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["risk"], "summary": "Create Risk Rule", "description": "Create new risk rule.", "operationId": "risk-create_risk_rule", "security": [{"OAuth2PasswordBearer": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RiskRuleCreate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RiskRulePublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/risk/rules/{risk_rule_id}": {"put": {"tags": ["risk"], "summary": "Update Risk Rule", "description": "Update a risk rule.", "operationId": "risk-update_risk_rule", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "risk_rule_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Risk Rule Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RiskRuleUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RiskRulePublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["risk"], "summary": "Delete Risk Rule", "description": "Delete a risk rule.", "operationId": "risk-delete_risk_rule", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "risk_rule_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Risk Rule Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/risk/kill-switch": {"get": {"tags": ["risk"], "summary": "Get Kill Switch Status", "description": "Get current kill switch status.", "operationId": "risk-get_kill_switch_status", "security": [{"OAuth2PasswordBearer": []}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SystemSettingPublic"}}}}}}, "post": {"tags": ["risk"], "summary": "Set Kill Switch", "description": "Enable or disable the global kill switch.", "operationId": "risk-set_kill_switch", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "active", "in": "query", "required": true, "schema": {"type": "boolean", "title": "Active"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SystemSettingPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/risk/audit-logs": {"get": {"tags": ["risk"], "summary": "Read Audit Logs", "description": "Retrieve audit logs.", "operationId": "risk-read_audit_logs", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Limit"}}, {"name": "event_type", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Event Type"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AuditLogs"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/audit/": {"get": {"tags": ["audit"], "summary": "Read Trade Audits", "description": "Retrieve trade audits.", "operationId": "audit-read_trade_audits", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TradeAudits"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["audit"], "summary": "Create Trade Audit", "description": "Create new trade audit record.", "operationId": "audit-create_trade_audit", "security": [{"OAuth2PasswordBearer": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TradeAuditCreate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TradeAuditPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/credentials/coinspot/": {"get": {"tags": ["credentials"], "summary": "Get Credentials", "description": "Get Coinspot API credentials for the current user.\n\nReturns masked credentials for security.", "operationId": "credentials-get_credentials", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CoinspotCredentialsPublic"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}, "put": {"tags": ["credentials"], "summary": "Update Credentials", "description": "Update Coinspot API credentials for the current user.", "operationId": "credentials-update_credentials", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CoinspotCredentialsUpdate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CoinspotCredentialsPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}, "post": {"tags": ["credentials"], "summary": "Create Credentials", "description": "Create new Coinspot API credentials for the current user.\n\nCredentials are encrypted before storage.", "operationId": "credentials-create_credentials", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CoinspotCredentialsCreate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CoinspotCredentialsPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}, "delete": {"tags": ["credentials"], "summary": "Delete Credentials", "description": "Delete Coinspot API credentials for the current user.", "operationId": "credentials-delete_credentials", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/api/v1/credentials/coinspot/validate": {"post": {"tags": ["credentials"], "summary": "Validate Credentials", "description": "Validate Coinspot API credentials by testing them against the Coinspot API.\n\nTests credentials by calling the Coinspot read-only balance endpoint.\nUpdates the validation status in the database if successful.", "operationId": "credentials-validate_credentials", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/api/v1/lab/agent/sessions": {"post": {"tags": ["agent"], "summary": "Create Agent Session", "description": "Create a new agent session.\n\nThis initiates a new agentic data science workflow with a user-defined goal.\n\nArgs:\n    session_in: Session creation data with user goal\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    Created agent session", "operationId": "agent-create_agent_session", "security": [{"OAuth2PasswordBearer": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AgentSessionCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AgentSessionPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "get": {"tags": ["agent"], "summary": "List Agent Sessions", "description": "List all agent sessions for the current user.\n\nArgs:\n    db: Database session\n    current_user: Currently authenticated user\n    skip: Number of sessions to skip\n    limit: Maximum number of sessions to return\n\nReturns:\n    List of agent sessions", "operationId": "agent-list_agent_sessions", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AgentSessionsPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/lab/agent/sessions/{session_id}": {"get": {"tags": ["agent"], "summary": "Get Agent Session", "description": "Get details of a specific agent session.\n\nArgs:\n    session_id: ID of the session to retrieve\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    Agent session details\n\nRaises:\n    HTTPException: If session not found or user doesn't have access", "operationId": "agent-get_agent_session", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Session Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AgentSessionPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["agent"], "summary": "Delete Agent Session", "description": "Delete an agent session.\n\nThis cancels the session if running and deletes all associated data.\n\nArgs:\n    session_id: ID of the session to delete\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    Deletion confirmation\n\nRaises:\n    HTTPException: If session not found or user doesn't have access", "operationId": "agent-delete_agent_session", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Session Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "additionalProperties": {"type": "string"}, "title": "Response Agent-Delete Agent Session"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/lab/agent/sessions/{session_id}/messages": {"get": {"tags": ["agent"], "summary": "Get Session Messages", "description": "Get all messages for an agent session.\n\nArgs:\n    session_id: ID of the session\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    List of session messages\n\nRaises:\n    HTTPException: If session not found or user doesn't have access", "operationId": "agent-get_session_messages", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Session Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/AgentSessionMessagePublic"}, "title": "Response Agent-Get Session Messages"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/lab/agent/sessions/{session_id}/artifacts": {"get": {"tags": ["agent"], "summary": "Get Session Artifacts", "description": "Get all artifacts for an agent session.\n\nArgs:\n    session_id: ID of the session\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    List of session artifacts\n\nRaises:\n    HTTPException: If session not found or user doesn't have access", "operationId": "agent-get_session_artifacts", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Session Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/AgentArtifactPublic"}, "title": "Response Agent-Get Session Artifacts"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/lab/agent/sessions/{session_id}/cancel": {"post": {"tags": ["agent"], "summary": "Cancel Agent Session", "description": "Cancel a running agent session.\n\nArgs:\n    session_id: ID of the session to cancel\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    Cancellation confirmation\n\nRaises:\n    HTTPException: If session not found or user doesn't have access", "operationId": "agent-cancel_agent_session", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Session Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "additionalProperties": {"type": "string"}, "title": "Response Agent-Cancel Agent Session"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/lab/agent/sessions/{session_id}/clarifications": {"get": {"tags": ["agent"], "summary": "Get Clarifications", "description": "Get pending clarification questions for a session.\n\nReturns clarification questions that need user response\nbefore the workflow can proceed.", "operationId": "agent-get_clarifications", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Session Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Agent-Get Clarifications"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["agent"], "summary": "Provide Clarifications", "description": "Provide responses to clarification questions.\n\nThis resumes the workflow with the provided clarifications.", "operationId": "agent-provide_clarifications", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Session Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ClarificationResponse"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Agent-Provide Clarifications"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/lab/agent/sessions/{session_id}/choices": {"get": {"tags": ["agent"], "summary": "Get Choices", "description": "Get available choices for user selection.\n\nReturns model choices with pros/cons and recommendation.", "operationId": "agent-get_choices", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Session Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Agent-Get Choices"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["agent"], "summary": "Select Choice", "description": "Select a choice from available options.\n\nThis resumes the workflow with the selected model.", "operationId": "agent-select_choice", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Session Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ChoiceSelection"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Agent-Select Choice"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/lab/agent/sessions/{session_id}/pending-approvals": {"get": {"tags": ["agent"], "summary": "Get Pending Approvals", "description": "Get pending approval requests for a session.\n\nReturns approval requests that need user decision.", "operationId": "agent-get_pending_approvals", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Session Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Agent-Get Pending Approvals"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/lab/agent/sessions/{session_id}/approve": {"post": {"tags": ["agent"], "summary": "Approve Request", "description": "Approve or reject a pending approval request.\n\nThis resumes the workflow if approved, or stops it if rejected.", "operationId": "agent-approve_request", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Session Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApprovalDecision"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Agent-Approve Request"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/lab/agent/sessions/{session_id}/override-points": {"get": {"tags": ["agent"], "summary": "Get Override Points Endpoint", "description": "Get available override points for a session.\n\nReturns which overrides are currently available based on workflow state.", "operationId": "agent-get_override_points_endpoint", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Session Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Agent-Get Override Points Endpoint"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/lab/agent/sessions/{session_id}/override": {"post": {"tags": ["agent"], "summary": "Apply Override", "description": "Apply a user override to the workflow.\n\nAllows users to override agent decisions and modify workflow behavior.", "operationId": "agent-apply_override", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Session Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OverrideRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Agent-Apply Override"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/lab/agent/artifacts/{artifact_id}/download": {"get": {"tags": ["agent"], "summary": "Download Artifact", "description": "Download an artifact file.\n\nArgs:\n    artifact_id: Artifact ID\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    File response with artifact content\n\nRaises:\n    HTTPException: If artifact not found, user doesn't have access, or file not found", "operationId": "agent-download_artifact", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "artifact_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Artifact Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/lab/agent/artifacts/{artifact_id}": {"delete": {"tags": ["agent"], "summary": "Delete Artifact", "description": "Delete an artifact.\n\nArgs:\n    artifact_id: Artifact ID\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    Success message\n\nRaises:\n    HTTPException: If artifact not found or user doesn't have access", "operationId": "agent-delete_artifact", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "artifact_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Artifact Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "additionalProperties": {"type": "string"}, "title": "Response Agent-Delete Artifact"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/lab/agent/artifacts/stats": {"get": {"tags": ["agent"], "summary": "Get Artifact Stats", "description": "Get artifact storage statistics.\n\nArgs:\n    db: Database session\n    current_user: Currently authenticated user\n\nReturns:\n    Storage statistics", "operationId": "agent-get_artifact_stats", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"additionalProperties": true, "type": "object", "title": "Response Agent-Get Artifact Stats"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/api/v1/promotions/": {"post": {"tags": ["promotions"], "summary": "Request Promotion", "description": "Request promotion of a strategy (Algorithm) from Lab to Floor.", "operationId": "promotions-request_promotion", "security": [{"OAuth2PasswordBearer": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/StrategyPromotionCreate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/StrategyPromotionPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "get": {"tags": ["promotions"], "summary": "List Promotions", "description": "List strategy promotion requests.", "operationId": "promotions-list_promotions", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status"}}, {"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/StrategyPromotionPublic"}, "title": "Response Promotions-List Promotions"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/promotions/{id}": {"get": {"tags": ["promotions"], "summary": "Get Promotion", "description": "Get a specific promotion request.", "operationId": "promotions-get_promotion", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/StrategyPromotionPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "patch": {"tags": ["promotions"], "summary": "Review Promotion", "description": "Review a promotion request (Approve/Reject).\nRequires Architect (Superuser) privileges.", "operationId": "promotions-review_promotion", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/StrategyPromotionUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/StrategyPromotionPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/floor/pnl/summary": {"get": {"tags": ["pnl"], "summary": "Get Pnl Summary", "description": "Get comprehensive P&L summary with performance metrics\n\nReturns realized and unrealized P&L along with detailed performance statistics\nincluding win rate, profit factor, largest trades, and total volume.\n\nQuery Parameters:\n- start_date: Optional start date for filtering trades (ISO 8601 format)\n- end_date: Optional end date for filtering trades (ISO 8601 format)\n\nReturns:\n- PnLSummaryResponse with all P&L metrics and statistics", "operationId": "pnl-get_pnl_summary", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "start_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "description": "Start date for P&L calculation (ISO format)", "title": "Start Date"}, "description": "Start date for P&L calculation (ISO format)"}, {"name": "end_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "description": "End date for P&L calculation (ISO format)", "title": "End Date"}, "description": "End date for P&L calculation (ISO format)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PnLSummaryResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/floor/pnl/by-algorithm": {"get": {"tags": ["pnl"], "summary": "Get Pnl By Algorithm", "description": "Get P&L metrics grouped by trading algorithm\n\nShows which algorithms are performing well and which need improvement.\n\nQuery Parameters:\n- start_date: Optional start date for filtering trades\n- end_date: Optional end date for filtering trades\n\nReturns:\n- List of P&L metrics per algorithm", "operationId": "pnl-get_pnl_by_algorithm", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "start_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "description": "Start date for P&L calculation", "title": "Start Date"}, "description": "Start date for P&L calculation"}, {"name": "end_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "description": "End date for P&L calculation", "title": "End Date"}, "description": "End date for P&L calculation"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/PnLByAlgorithmResponse"}, "title": "Response Pnl-Get Pnl By Algorithm"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/floor/pnl/by-coin": {"get": {"tags": ["pnl"], "summary": "Get Pnl By Coin", "description": "Get P&L metrics grouped by cryptocurrency\n\nShows which cryptocurrencies are generating the most profit/loss.\n\nQuery Parameters:\n- start_date: Optional start date for filtering trades\n- end_date: Optional end date for filtering trades\n\nReturns:\n- List of P&L metrics per cryptocurrency", "operationId": "pnl-get_pnl_by_coin", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "start_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "description": "Start date for P&L calculation", "title": "Start Date"}, "description": "Start date for P&L calculation"}, {"name": "end_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "description": "End date for P&L calculation", "title": "End Date"}, "description": "End date for P&L calculation"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/PnLByCoinResponse"}, "title": "Response Pnl-Get Pnl By Coin"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/floor/pnl/history": {"get": {"tags": ["pnl"], "summary": "Get Historical Pnl", "description": "Get historical P&L data aggregated by time interval\n\nProvides time-series P&L data for charting and trend analysis.\n\nQuery Parameters:\n- start_date: Start date for historical data (required, ISO 8601 format)\n- end_date: End date for historical data (required, ISO 8601 format)\n- interval: Aggregation interval - 'hour', 'day', 'week', or 'month' (default: 'day')\n\nReturns:\n- List of historical P&L data points with timestamps", "operationId": "pnl-get_historical_pnl", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "start_date", "in": "query", "required": true, "schema": {"type": "string", "format": "date-time", "description": "Start date for historical data (required)", "title": "Start Date"}, "description": "Start date for historical data (required)"}, {"name": "end_date", "in": "query", "required": true, "schema": {"type": "string", "format": "date-time", "description": "End date for historical data (required)", "title": "End Date"}, "description": "End date for historical data (required)"}, {"name": "interval", "in": "query", "required": false, "schema": {"type": "string", "description": "Time interval (hour, day, week, month)", "default": "day", "title": "Interval"}, "description": "Time interval (hour, day, week, month)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/HistoricalPnLEntry"}, "title": "Response Pnl-Get Historical Pnl"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/floor/pnl/realized": {"get": {"tags": ["pnl"], "summary": "Get Realized Pnl", "description": "Get realized P&L from completed trades\n\nRealized P&L is calculated from the difference between sell price and\nmatching buy prices using FIFO accounting method.\n\nQuery Parameters:\n- start_date: Optional start date for filtering trades\n- end_date: Optional end date for filtering trades\n- algorithm_id: Optional filter by algorithm UUID\n- coin_type: Optional filter by cryptocurrency symbol\n\nReturns:\n- RealizedPnLResponse with realized_pnl value", "operationId": "pnl-get_realized_pnl", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "start_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "description": "Start date for P&L calculation", "title": "Start Date"}, "description": "Start date for P&L calculation"}, {"name": "end_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "description": "End date for P&L calculation", "title": "End Date"}, "description": "End date for P&L calculation"}, {"name": "algorithm_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "description": "Filter by algorithm ID", "title": "Algorithm Id"}, "description": "Filter by algorithm ID"}, {"name": "coin_type", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Filter by cryptocurrency (e.g., 'BTC')", "title": "Coin Type"}, "description": "Filter by cryptocurrency (e.g., 'BTC')"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RealizedPnLResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/floor/pnl/unrealized": {"get": {"tags": ["pnl"], "summary": "Get Unrealized Pnl", "description": "Get unrealized P&L from current open positions\n\nUnrealized P&L is the difference between current market value\nand the total cost of current positions.\n\nQuery Parameters:\n- coin_type: Optional filter by cryptocurrency symbol\n\nReturns:\n- UnrealizedPnLResponse with unrealized_pnl value", "operationId": "pnl-get_unrealized_pnl", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "coin_type", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Filter by cryptocurrency (e.g., 'BTC')", "title": "Coin Type"}, "description": "Filter by cryptocurrency (e.g., 'BTC')"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UnrealizedPnLResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/floor/trading/orders": {"post": {"tags": ["trading"], "summary": "Place Order", "description": "Place a new trading order.", "operationId": "trading-place_order", "security": [{"OAuth2PasswordBearer": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OrderRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OrderResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "get": {"tags": ["trading"], "summary": "Read Orders", "description": "Retrieve orders.", "operationId": "trading-read_orders", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/OrderPublic"}, "title": "Response Trading-Read Orders"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/floor/trading/orders/{order_id}": {"delete": {"tags": ["trading"], "summary": "Cancel Order", "description": "Cancel an order.", "operationId": "trading-cancel_order", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "order_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Order Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OrderPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/floor/trading/positions": {"get": {"tags": ["trading"], "summary": "Read Positions", "description": "Retrieve positions.", "operationId": "trading-read_positions", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/PositionPublic"}, "type": "array", "title": "Response Trading-Read Positions"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/api/v1/floor/algorithms/{algorithm_id}/pause": {"post": {"tags": ["floor"], "summary": "Pause Algorithm", "description": "Pause a running algorithm.", "operationId": "floor-pause_algorithm", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "algorithm_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Algorithm Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ControlResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/floor/algorithms/{algorithm_id}/resume": {"post": {"tags": ["floor"], "summary": "Resume Algorithm", "description": "Resume a paused algorithm.", "operationId": "floor-resume_algorithm", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "algorithm_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Algorithm Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ControlResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/floor/algorithms/{algorithm_id}/stop": {"post": {"tags": ["floor"], "summary": "Stop Algorithm", "description": "Stop a running algorithm.", "operationId": "floor-stop_algorithm", "security": [{"OAuth2PasswordBearer": []}], "parameters": [{"name": "algorithm_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Algorithm Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ControlResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/floor/emergency-stop": {"post": {"tags": ["floor"], "summary": "Emergency Stop", "description": "Trigger emergency stop for ALL algorithms.", "operationId": "floor-emergency_stop", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ControlResponse"}}}}}, "security": [{"OAuth2PasswordBearer": []}]}}, "/api/v1/collectors/plugins": {"get": {"tags": ["collectors"], "summary": "List Plugins", "description": "List all available collector plugins (strategies).", "operationId": "collectors-list_plugins", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"additionalProperties": true, "type": "object"}, "type": "array", "title": "Response Collectors-List Plugins"}}}}}}}, "/api/v1/collectors/": {"get": {"tags": ["collectors"], "summary": "List Instances", "description": "List all configured collector instances.", "operationId": "collectors-list_instances", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/Collector"}, "type": "array", "title": "Response Collectors-List Instances"}}}}}}, "post": {"tags": ["collectors"], "summary": "Create Instance", "description": "Create a new collector instance.", "operationId": "collectors-create_instance", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/Collector"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Collector"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/collectors/{id}": {"get": {"tags": ["collectors"], "summary": "Get Instance", "description": "Get a specific collector instance.", "operationId": "collectors-get_instance", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Collector"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["collectors"], "summary": "Update Instance", "description": "Update a collector instance.", "operationId": "collectors-update_instance", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Collector"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Collector"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["collectors"], "summary": "Delete Instance", "description": "Delete a collector instance.", "operationId": "collectors-delete_instance", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/collectors/{id}/toggle": {"post": {"tags": ["collectors"], "summary": "Toggle Instance", "description": "Toggle the enabled status of a collector instance.", "operationId": "collectors-toggle_instance", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Collector"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/collectors/{id}/trigger": {"post": {"tags": ["collectors"], "summary": "Trigger Instance", "description": "Trigger a manual run for a specific collector instance.", "operationId": "collectors-trigger_instance", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/private/users/": {"post": {"tags": ["private"], "summary": "Create User", "description": "Create a new user.", "operationId": "private-create_user", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/PrivateUserCreate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserPublic"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/mock/ledgers/{ledger_type}": {"get": {"tags": ["mock"], "summary": "Get Mock Ledger Data", "description": "Get mock data for LedgerCard component.\n\nArgs:\n    ledger_type: 'human', 'catalyst', 'algorithm', 'exchange', etc.\n    state: 'success', 'loading', 'error', 'empty'", "operationId": "mock-get_mock_ledger_data", "parameters": [{"name": "ledger_type", "in": "path", "required": true, "schema": {"type": "string", "title": "Ledger Type"}}, {"name": "state", "in": "query", "required": false, "schema": {"type": "string", "default": "success", "title": "State"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PnLSummaryResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/mock/agent/sessions/{session_id}/messages": {"get": {"tags": ["mock"], "summary": "Get Mock Agent Messages", "description": "Get mock messages for AgentTerminal.", "operationId": "mock-get_mock_agent_messages", "parameters": [{"name": "session_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Session Id"}}, {"name": "_stream", "in": "query", "required": false, "schema": {"type": "boolean", "default": false, "title": " Stream"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/AgentSessionMessagePublic"}, "title": "Response Mock-Get Mock Agent Messages"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/mock/safety/{action_type}": {"post": {"tags": ["mock"], "summary": "Trigger Mock Safety Action", "description": "Mock endpoint for SafetyButton actions.\n\nArgs:\n    action_type: 'kill-switch', 'confirm-trade', 'emergency-stop'", "operationId": "mock-trigger_mock_safety_action", "parameters": [{"name": "action_type", "in": "path", "required": true, "schema": {"type": "string", "title": "Action Type"}}, {"name": "confirm", "in": "query", "required": false, "schema": {"type": "boolean", "default": false, "title": "Confirm"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SafetyStatusResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}}, "components": {"schemas": {"AgentArtifactPublic": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id", "description": "Unique artifact identifier"}, "session_id": {"type": "string", "format": "uuid", "title": "Session Id", "description": "ID of the session this artifact belongs to"}, "artifact_type": {"type": "string", "title": "Artifact Type", "description": "Type of artifact (model, plot, report, code, data)"}, "name": {"type": "string", "title": "Name", "description": "Name of the artifact"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description", "description": "Description of the artifact"}, "file_path": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "File Path", "description": "Storage path"}, "mime_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Mime Type", "description": "MIME type"}, "size_bytes": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Size Bytes", "description": "Size in bytes"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At", "description": "Artifact creation timestamp"}, "is_loading": {"type": "boolean", "title": "Is Loading", "description": "Indicates if the data is currently being refreshed or computed.", "default": false}, "last_updated": {"type": "string", "format": "date-time", "title": "Last Updated", "description": "Timestamp when the data was last updated."}, "data_staleness_seconds": {"type": "number", "title": "Data Staleness Seconds", "description": "Number of seconds since the data was last updated.", "default": 0.0}}, "type": "object", "required": ["id", "session_id", "artifact_type", "name", "created_at"], "title": "AgentArtifactPublic", "description": "Schema for returning agent artifact via API"}, "AgentSessionCreate": {"properties": {"user_goal": {"type": "string", "maxLength": 5000, "minLength": 1, "title": "User Goal", "description": "Natural language trading goal"}}, "type": "object", "required": ["user_goal"], "title": "AgentSessionCreate", "description": "Schema for creating a new agent session"}, "AgentSessionMessagePublic": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id", "description": "Unique message identifier"}, "session_id": {"type": "string", "format": "uuid", "title": "Session Id", "description": "ID of the session this message belongs to"}, "role": {"type": "string", "title": "Role", "description": "Role of the sender (user, assistant, system, function)"}, "content": {"type": "string", "title": "Content", "description": "Content of the message"}, "agent_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Agent Name", "description": "Name of the specific agent"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At", "description": "Message creation timestamp"}, "is_loading": {"type": "boolean", "title": "Is Loading", "description": "Indicates if the data is currently being refreshed or computed.", "default": false}, "last_updated": {"type": "string", "format": "date-time", "title": "Last Updated", "description": "Timestamp when the data was last updated."}, "data_staleness_seconds": {"type": "number", "title": "Data Staleness Seconds", "description": "Number of seconds since the data was last updated.", "default": 0.0}}, "type": "object", "required": ["id", "session_id", "role", "content", "created_at"], "title": "AgentSessionMessagePublic", "description": "Schema for returning agent session message via API"}, "AgentSessionPublic": {"properties": {"user_goal": {"type": "string", "title": "User Goal", "description": "Natural language trading goal from user"}, "status": {"type": "string", "title": "Status", "description": "Current status (pending, running, completed, failed, cancelled)"}, "id": {"type": "string", "format": "uuid", "title": "Id", "description": "Unique session identifier"}, "user_id": {"type": "string", "format": "uuid", "title": "User Id", "description": "ID of the user who owns this session"}, "error_message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error Message", "description": "Error message if failed"}, "result_summary": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Result Summary", "description": "Summary of the session results"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At", "description": "Session creation timestamp"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At", "description": "Last update timestamp"}, "completed_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Completed At", "description": "Completion timestamp"}, "is_loading": {"type": "boolean", "title": "Is Loading", "description": "Indicates if the data is currently being refreshed or computed.", "default": false}, "last_updated": {"type": "string", "format": "date-time", "title": "Last Updated", "description": "Timestamp when the data was last updated."}, "data_staleness_seconds": {"type": "number", "title": "Data Staleness Seconds", "description": "Number of seconds since the data was last updated.", "default": 0.0}}, "type": "object", "required": ["user_goal", "status", "id", "user_id", "created_at", "updated_at"], "title": "AgentSessionPublic", "description": "Schema for returning agent session via API"}, "AgentSessionsPublic": {"properties": {"data": {"items": {"$ref": "#/components/schemas/AgentSessionPublic"}, "type": "array", "title": "Data", "description": "List of agent sessions"}, "count": {"type": "integer", "title": "Count", "description": "Total count of sessions"}, "is_loading": {"type": "boolean", "title": "Is Loading", "description": "Indicates if the data is currently being refreshed or computed.", "default": false}, "last_updated": {"type": "string", "format": "date-time", "title": "Last Updated", "description": "Timestamp when the data was last updated."}, "data_staleness_seconds": {"type": "number", "title": "Data Staleness Seconds", "description": "Number of seconds since the data was last updated.", "default": 0.0}}, "type": "object", "required": ["data", "count"], "title": "AgentSessionsPublic", "description": "Schema for returning multiple agent sessions"}, "ApprovalDecision": {"properties": {"approved": {"type": "boolean", "title": "Approved"}, "reason": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Reason"}}, "type": "object", "required": ["approved"], "title": "ApprovalDecision", "description": "User approval or rejection."}, "AuditLogPublic": {"properties": {"event_type": {"type": "string", "maxLength": 100, "title": "Event Type"}, "severity": {"type": "string", "maxLength": 20, "title": "Severity", "default": "info"}, "details": {"additionalProperties": true, "type": "object", "title": "Details", "default": {}}, "user_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "User Id"}, "id": {"type": "string", "format": "uuid", "title": "Id"}, "timestamp": {"type": "string", "format": "date-time", "title": "Timestamp"}}, "type": "object", "required": ["event_type", "id", "timestamp"], "title": "AuditLogPublic"}, "AuditLogs": {"properties": {"data": {"items": {"$ref": "#/components/schemas/AuditLogPublic"}, "type": "array", "title": "Data"}, "count": {"type": "integer", "title": "Count"}}, "type": "object", "required": ["data", "count"], "title": "AuditLogs"}, "Body_login-login_access_token": {"properties": {"grant_type": {"anyOf": [{"type": "string", "pattern": "password"}, {"type": "null"}], "title": "Grant Type"}, "username": {"type": "string", "title": "Username"}, "password": {"type": "string", "title": "Password"}, "scope": {"type": "string", "title": "Scope", "default": ""}, "client_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Client Id"}, "client_secret": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Client Secret"}}, "type": "object", "required": ["username", "password"], "title": "Body_login-login_access_token"}, "ChoiceSelection": {"properties": {"selected_model": {"type": "string", "title": "Selected Model"}}, "type": "object", "required": ["selected_model"], "title": "ChoiceSelection", "description": "User selection from available choices."}, "ClarificationResponse": {"properties": {"responses": {"additionalProperties": {"type": "string"}, "type": "object", "title": "Responses"}}, "type": "object", "required": ["responses"], "title": "ClarificationResponse", "description": "User responses to clarification questions."}, "CoinspotCredentialsCreate": {"properties": {"api_key": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Api Key"}, "api_secret": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Api Secret"}}, "type": "object", "required": ["api_key", "api_secret"], "title": "CoinspotCredentialsCreate", "description": "Schema for creating Coinspot credentials"}, "CoinspotCredentialsPublic": {"properties": {"is_validated": {"type": "boolean", "title": "Is Validated"}, "id": {"type": "string", "format": "uuid", "title": "Id"}, "user_id": {"type": "string", "format": "uuid", "title": "User Id"}, "api_key_masked": {"type": "string", "title": "Api Key Masked", "description": "Masked API key (last 4 characters visible)"}, "last_validated_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Last Validated At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["is_validated", "id", "user_id", "api_key_masked", "last_validated_at", "created_at", "updated_at"], "title": "CoinspotCredentialsPublic", "description": "Schema for returning Coinspot credentials via API (with masked values)"}, "CoinspotCredentialsUpdate": {"properties": {"api_key": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Api Key"}, "api_secret": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Api Secret"}}, "type": "object", "title": "CoinspotCredentialsUpdate", "description": "Schema for updating Coinspot credentials"}, "Collector": {"properties": {"id": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Id"}, "name": {"type": "string", "maxLength": 100, "title": "Name"}, "description": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Description"}, "plugin_name": {"type": "string", "maxLength": 100, "title": "Plugin Name"}, "is_enabled": {"type": "boolean", "title": "Is Enabled", "default": false}, "schedule_cron": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Schedule Cron", "default": "*/15 * * * *"}, "config": {"additionalProperties": true, "type": "object", "title": "Config", "default": {}}, "last_run_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Last Run At"}, "status": {"type": "string", "maxLength": 20, "title": "Status", "default": "idle"}}, "type": "object", "required": ["name", "plugin_name"], "title": "Collector", "description": "Configuration and state for a collector plugin instance."}, "ControlResponse": {"properties": {"status": {"type": "string", "title": "Status"}, "message": {"type": "string", "title": "Message"}}, "type": "object", "required": ["status", "message"], "title": "ControlResponse"}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "HistoricalPnLEntry": {"properties": {"is_loading": {"type": "boolean", "title": "Is Loading", "description": "Indicates if the data is currently being refreshed or computed.", "default": false}, "last_updated": {"type": "string", "format": "date-time", "title": "Last Updated", "description": "Timestamp when the data was last updated."}, "data_staleness_seconds": {"type": "number", "title": "Data Staleness Seconds", "description": "Number of seconds since the data was last updated.", "default": 0.0}, "timestamp": {"type": "string", "title": "Timestamp", "description": "ISO 8601 timestamp of the entry"}, "realized_pnl": {"type": "number", "title": "Realized Pnl", "description": "Realized P&L value for this interval"}, "interval": {"type": "string", "title": "Interval", "description": "Time interval (hour, day, week, month)"}}, "type": "object", "required": ["timestamp", "realized_pnl", "interval"], "title": "HistoricalPnLEntry", "description": "Single entry in historical P&L data"}, "Message": {"properties": {"message": {"type": "string", "title": "Message"}}, "type": "object", "required": ["message"], "title": "Message"}, "NewPassword": {"properties": {"token": {"type": "string", "title": "Token"}, "new_password": {"type": "string", "maxLength": 128, "minLength": 8, "title": "New Password"}}, "type": "object", "required": ["token", "new_password"], "title": "NewPassword"}, "OrderPublic": {"properties": {"user_id": {"type": "string", "format": "uuid", "title": "User Id", "description": "The UUID of the user placing the order."}, "algorithm_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Algorithm Id", "description": "The UUID of the algorithm that placed this order, if any."}, "coin_type": {"type": "string", "maxLength": 20, "title": "Coin Type", "description": "The type of coin (e.g., 'BTC', 'ETH')."}, "side": {"type": "string", "maxLength": 10, "title": "Side", "description": "The side of the order ('buy' or 'sell')."}, "order_type": {"type": "string", "maxLength": 20, "title": "Order Type", "description": "The type of order ('market' or 'limit').", "default": "market"}, "quantity": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Quantity", "description": "The quantity to buy or sell."}, "price": {"anyOf": [{"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Price", "description": "The price for limit orders. Optional for market orders."}, "filled_quantity": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Filled Quantity", "description": "The quantity that has been filled so far.", "default": "0"}, "status": {"type": "string", "maxLength": 20, "title": "Status", "description": "The status of the order (e.g., 'pending', 'filled', 'cancelled').", "default": "pending"}, "error_message": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Error Message", "description": "Error message if the order failed."}, "coinspot_order_id": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Coinspot Order Id", "description": "The ID of the order on CoinSpot."}, "id": {"type": "string", "format": "uuid", "title": "Id", "description": "The unique identifier for the order."}, "created_at": {"type": "string", "format": "date-time", "title": "Created At", "description": "The timestamp when the order was created."}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At", "description": "The timestamp when the order was last updated."}, "submitted_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Submitted At", "description": "The timestamp when the order was submitted."}, "filled_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Filled At", "description": "The timestamp when the order was filled."}}, "type": "object", "required": ["user_id", "coin_type", "side", "quantity", "id", "created_at", "updated_at", "submitted_at", "filled_at"], "title": "OrderPublic", "description": "Schema for returning order via API"}, "OrderRequest": {"properties": {"coin_type": {"type": "string", "maxLength": 20, "title": "Coin Type", "description": "The type of coin (e.g., 'BTC', 'ETH')."}, "side": {"type": "string", "maxLength": 10, "title": "Side", "description": "The side of the order ('buy' or 'sell')."}, "order_type": {"type": "string", "maxLength": 20, "title": "Order Type", "description": "The type of order ('market' or 'limit').", "default": "market"}, "quantity": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Quantity", "description": "The quantity to buy or sell."}, "price": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Price", "description": "The price for limit orders. Optional for market orders."}, "algorithm_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Algorithm Id", "description": "The UUID of the algorithm placing the order."}}, "type": "object", "required": ["coin_type", "side", "quantity"], "title": "OrderRequest", "description": "Request schema for placing a new order"}, "OrderResponse": {"properties": {"user_id": {"type": "string", "format": "uuid", "title": "User Id", "description": "The UUID of the user placing the order."}, "algorithm_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Algorithm Id", "description": "The UUID of the algorithm that placed this order, if any."}, "coin_type": {"type": "string", "maxLength": 20, "title": "Coin Type", "description": "The type of coin (e.g., 'BTC', 'ETH')."}, "side": {"type": "string", "maxLength": 10, "title": "Side", "description": "The side of the order ('buy' or 'sell')."}, "order_type": {"type": "string", "maxLength": 20, "title": "Order Type", "description": "The type of order ('market' or 'limit').", "default": "market"}, "quantity": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Quantity", "description": "The quantity to buy or sell."}, "price": {"anyOf": [{"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Price", "description": "The price for limit orders. Optional for market orders."}, "filled_quantity": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Filled Quantity", "description": "The quantity that has been filled so far.", "default": "0"}, "status": {"type": "string", "maxLength": 20, "title": "Status", "description": "The status of the order (e.g., 'pending', 'filled', 'cancelled').", "default": "pending"}, "error_message": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Error Message", "description": "Error message if the order failed."}, "coinspot_order_id": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Coinspot Order Id", "description": "The ID of the order on CoinSpot."}, "id": {"type": "string", "format": "uuid", "title": "Id", "description": "The unique identifier for the order."}, "created_at": {"type": "string", "format": "date-time", "title": "Created At", "description": "The timestamp when the order was created."}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At", "description": "The timestamp when the order was last updated."}, "submitted_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Submitted At", "description": "The timestamp when the order was submitted."}, "filled_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Filled At", "description": "The timestamp when the order was filled."}}, "type": "object", "required": ["user_id", "coin_type", "side", "quantity", "id", "created_at", "updated_at", "submitted_at", "filled_at"], "title": "OrderResponse", "description": "Response schema for an order"}, "OverrideRequest": {"properties": {"override_type": {"type": "string", "title": "Override Type"}, "override_data": {"additionalProperties": true, "type": "object", "title": "Override Data"}}, "type": "object", "required": ["override_type", "override_data"], "title": "OverrideRequest", "description": "User override request."}, "PnLByAlgorithmResponse": {"properties": {"is_loading": {"type": "boolean", "title": "Is Loading", "description": "Indicates if the data is currently being refreshed or computed.", "default": false}, "last_updated": {"type": "string", "format": "date-time", "title": "Last Updated", "description": "Timestamp when the data was last updated."}, "data_staleness_seconds": {"type": "number", "title": "Data Staleness Seconds", "description": "Number of seconds since the data was last updated.", "default": 0.0}, "algorithm_id": {"type": "string", "title": "Algorithm Id", "description": "Unique identifier of the trading algorithm"}, "realized_pnl": {"type": "number", "title": "Realized Pnl", "description": "Realized P&L for this algorithm"}, "unrealized_pnl": {"type": "number", "title": "Unrealized Pnl", "description": "Unrealized P&L for this algorithm"}, "total_pnl": {"type": "number", "title": "Total Pnl", "description": "Total P&L for this algorithm"}}, "type": "object", "required": ["algorithm_id", "realized_pnl", "unrealized_pnl", "total_pnl"], "title": "PnLByAlgorithmResponse", "description": "Response model for P&L grouped by algorithm"}, "PnLByCoinResponse": {"properties": {"is_loading": {"type": "boolean", "title": "Is Loading", "description": "Indicates if the data is currently being refreshed or computed.", "default": false}, "last_updated": {"type": "string", "format": "date-time", "title": "Last Updated", "description": "Timestamp when the data was last updated."}, "data_staleness_seconds": {"type": "number", "title": "Data Staleness Seconds", "description": "Number of seconds since the data was last updated.", "default": 0.0}, "coin_type": {"type": "string", "title": "Coin Type", "description": "Cryptocurrency symbol (e.g., BTC)"}, "realized_pnl": {"type": "number", "title": "Realized Pnl", "description": "Realized P&L for this coin"}, "unrealized_pnl": {"type": "number", "title": "Unrealized Pnl", "description": "Unrealized P&L for this coin"}, "total_pnl": {"type": "number", "title": "Total Pnl", "description": "Total P&L for this coin"}}, "type": "object", "required": ["coin_type", "realized_pnl", "unrealized_pnl", "total_pnl"], "title": "PnLByCoinResponse", "description": "Response model for P&L grouped by coin"}, "PnLSummaryResponse": {"properties": {"is_loading": {"type": "boolean", "title": "Is Loading", "description": "Indicates if the data is currently being refreshed or computed.", "default": false}, "last_updated": {"type": "string", "format": "date-time", "title": "Last Updated", "description": "Timestamp when the data was last updated."}, "data_staleness_seconds": {"type": "number", "title": "Data Staleness Seconds", "description": "Number of seconds since the data was last updated.", "default": 0.0}, "realized_pnl": {"type": "number", "title": "Realized Pnl", "description": "Total realized profit/loss from closed trades"}, "unrealized_pnl": {"type": "number", "title": "Unrealized Pnl", "description": "Total unrealized profit/loss from open positions"}, "total_pnl": {"type": "number", "title": "Total Pnl", "description": "Sum of realized and unrealized P&L"}, "total_trades": {"type": "integer", "title": "Total Trades", "description": "Total number of trades executed"}, "winning_trades": {"type": "integer", "title": "Winning Trades", "description": "Number of profitable trades"}, "losing_trades": {"type": "integer", "title": "Losing Trades", "description": "Number of unprofitable trades"}, "win_rate": {"type": "number", "title": "Win Rate", "description": "Percentage of winning trades (0-1.0)"}, "profit_factor": {"type": "number", "title": "Profit Factor", "description": "Ratio of gross profit to gross loss"}, "total_profit": {"type": "number", "title": "Total Profit", "description": "Total gross profit"}, "total_loss": {"type": "number", "title": "Total Loss", "description": "Total gross loss"}, "average_win": {"type": "number", "title": "Average Win", "description": "Average profit per winning trade"}, "average_loss": {"type": "number", "title": "Average Loss", "description": "Average loss per losing trade"}, "largest_win": {"type": "number", "title": "Largest Win", "description": "Largest single profit"}, "largest_loss": {"type": "number", "title": "Largest Loss", "description": "Largest single loss"}, "max_drawdown": {"type": "number", "title": "Max Drawdown", "description": "Maximum peak-to-trough decline"}, "sharpe_ratio": {"type": "number", "title": "Sharpe Ratio", "description": "Risk-adjusted return metric"}, "total_volume": {"type": "number", "title": "Total Volume", "description": "Total trading volume"}, "total_fees": {"type": "number", "title": "Total Fees", "description": "Total trading fees paid"}}, "type": "object", "required": ["realized_pnl", "unrealized_pnl", "total_pnl", "total_trades", "winning_trades", "losing_trades", "win_rate", "profit_factor", "total_profit", "total_loss", "average_win", "average_loss", "largest_win", "largest_loss", "max_drawdown", "sharpe_ratio", "total_volume", "total_fees"], "title": "PnLSummaryResponse", "description": "Response model for P&L summary"}, "PositionPublic": {"properties": {"user_id": {"type": "string", "format": "uuid", "title": "User Id", "description": "The UUID of the user who owns this position."}, "coin_type": {"type": "string", "maxLength": 20, "title": "Coin Type", "description": "The type of coin (e.g., 'BTC', 'ETH')."}, "quantity": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Quantity", "description": "The quantity of the coin held."}, "average_price": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Average Price", "description": "The average price at which the position was acquired."}, "total_cost": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Total Cost", "description": "The total cost basis of the position."}, "id": {"type": "string", "format": "uuid", "title": "Id", "description": "The unique identifier for the position."}, "created_at": {"type": "string", "format": "date-time", "title": "Created At", "description": "The timestamp when the position was first created."}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At", "description": "The timestamp when the position was last updated."}, "current_value": {"anyOf": [{"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Current Value", "description": "The current market value of the position."}, "unrealized_pnl": {"anyOf": [{"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Unrealized Pnl", "description": "The unrealized profit or loss."}}, "type": "object", "required": ["user_id", "coin_type", "quantity", "average_price", "total_cost", "id", "created_at", "updated_at"], "title": "PositionPublic", "description": "Schema for returning position via API"}, "PrivateUserCreate": {"properties": {"email": {"type": "string", "title": "Email"}, "password": {"type": "string", "title": "Password"}, "full_name": {"type": "string", "title": "Full Name"}, "is_verified": {"type": "boolean", "title": "Is Verified", "default": false}}, "type": "object", "required": ["email", "password", "full_name"], "title": "PrivateUserCreate"}, "RealizedPnLResponse": {"properties": {"is_loading": {"type": "boolean", "title": "Is Loading", "description": "Indicates if the data is currently being refreshed or computed.", "default": false}, "last_updated": {"type": "string", "format": "date-time", "title": "Last Updated", "description": "Timestamp when the data was last updated."}, "data_staleness_seconds": {"type": "number", "title": "Data Staleness Seconds", "description": "Number of seconds since the data was last updated.", "default": 0.0}, "realized_pnl": {"type": "number", "title": "Realized Pnl", "description": "Total realized profit/loss"}}, "type": "object", "required": ["realized_pnl"], "title": "RealizedPnLResponse", "description": "Response model for realized P&L"}, "RiskRuleCreate": {"properties": {"name": {"type": "string", "maxLength": 100, "title": "Name"}, "description": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Description"}, "rule_type": {"type": "string", "title": "Rule Type", "description": "max_daily_loss, max_position_size, etc."}, "value": {"additionalProperties": true, "type": "object", "title": "Value", "default": {}}, "is_active": {"type": "boolean", "title": "Is Active", "default": true}}, "type": "object", "required": ["name", "rule_type"], "title": "RiskRuleCreate"}, "RiskRulePublic": {"properties": {"name": {"type": "string", "maxLength": 100, "title": "Name"}, "description": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Description"}, "rule_type": {"type": "string", "title": "Rule Type", "description": "max_daily_loss, max_position_size, etc."}, "value": {"additionalProperties": true, "type": "object", "title": "Value", "default": {}}, "is_active": {"type": "boolean", "title": "Is Active", "default": true}, "id": {"type": "string", "format": "uuid", "title": "Id"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["name", "rule_type", "id", "created_at", "updated_at"], "title": "RiskRulePublic"}, "RiskRuleUpdate": {"properties": {"name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "rule_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Rule Type"}, "value": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Value"}, "is_active": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Active"}}, "type": "object", "title": "RiskRuleUpdate"}, "RiskRules": {"properties": {"data": {"items": {"$ref": "#/components/schemas/RiskRulePublic"}, "type": "array", "title": "Data"}, "count": {"type": "integer", "title": "Count"}}, "type": "object", "required": ["data", "count"], "title": "RiskRules"}, "SafetyStatusResponse": {"properties": {"is_loading": {"type": "boolean", "title": "Is Loading", "description": "Indicates if the data is currently being refreshed or computed.", "default": false}, "last_updated": {"type": "string", "format": "date-time", "title": "Last Updated", "description": "Timestamp when the data was last updated."}, "data_staleness_seconds": {"type": "number", "title": "Data Staleness Seconds", "description": "Number of seconds since the data was last updated.", "default": 0.0}, "status": {"type": "string", "title": "Status", "description": "Safety system status: active, triggered, disabled"}, "triggered_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Triggered At", "description": "When the safety mechanism was triggered"}, "triggered_by": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Triggered By", "description": "User or system that triggered it"}}, "type": "object", "required": ["status"], "title": "SafetyStatusResponse"}, "StrategyPromotionCreate": {"properties": {"algorithm_id": {"type": "string", "format": "uuid", "title": "Algorithm Id"}, "promotion_notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Promotion Notes"}, "performance_snapshot_json": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Performance Snapshot Json"}}, "type": "object", "required": ["algorithm_id"], "title": "StrategyPromotionCreate", "description": "Schema for requesting a strategy promotion"}, "StrategyPromotionPublic": {"properties": {"algorithm_id": {"type": "string", "format": "uuid", "title": "Algorithm Id"}, "from_environment": {"type": "string", "maxLength": 50, "title": "From Environment", "default": "lab"}, "to_environment": {"type": "string", "maxLength": 50, "title": "To Environment", "default": "floor"}, "status": {"type": "string", "maxLength": 20, "title": "Status", "default": "pending"}, "promotion_notes": {"anyOf": [{"type": "string", "maxLength": 1000}, {"type": "null"}], "title": "Promotion Notes"}, "performance_snapshot_json": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Performance Snapshot Json", "description": "JSON snapshot of backtest performance metrics at time of promotion"}, "id": {"type": "string", "format": "uuid", "title": "Id"}, "created_by": {"type": "string", "format": "uuid", "title": "Created By"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "reviewed_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Reviewed At"}, "reviewed_by": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Reviewed By"}, "rejection_reason": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Rejection Reason"}}, "type": "object", "required": ["algorithm_id", "id", "created_by", "created_at", "updated_at", "reviewed_at", "reviewed_by", "rejection_reason"], "title": "StrategyPromotionPublic", "description": "Schema for returning strategy promotion via API"}, "StrategyPromotionUpdate": {"properties": {"status": {"type": "string", "title": "Status", "description": "approved or rejected"}, "rejection_reason": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Rejection Reason"}}, "type": "object", "required": ["status"], "title": "StrategyPromotionUpdate", "description": "Schema for reviewing a strategy promotion (approve/reject)"}, "SystemSettingPublic": {"properties": {"key": {"type": "string", "maxLength": 100, "title": "Key"}, "value": {"additionalProperties": true, "type": "object", "title": "Value", "default": {}}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["key", "updated_at"], "title": "SystemSettingPublic"}, "Token": {"properties": {"access_token": {"type": "string", "title": "Access Token"}, "token_type": {"type": "string", "title": "Token Type", "default": "bearer"}}, "type": "object", "required": ["access_token"], "title": "Token"}, "TradeAuditCreate": {"properties": {"agent_id": {"type": "string", "maxLength": 100, "title": "Agent Id", "description": "ID of the agent making the decision"}, "decision": {"type": "string", "maxLength": 20, "title": "Decision", "description": "BUY, SELL, or HOLD"}, "reason": {"type": "string", "maxLength": 1000, "title": "Reason", "description": "Explanation for the decision"}, "confidence_score": {"type": "number", "title": "Confidence Score", "description": "Model confidence (0.0 - 1.0)", "default": 0.0}, "asset": {"type": "string", "maxLength": 20, "title": "Asset", "description": "The asset being traded (e.g. BTC)"}, "price_at_decision": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Price At Decision"}, "is_executed": {"type": "boolean", "title": "Is Executed", "description": "Whether the trade was actually placed", "default": false}, "execution_order_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Execution Order Id", "description": "Link to the Order if placed"}, "block_reason": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Block Reason", "description": "Reason if blocked by The Guard"}}, "type": "object", "required": ["agent_id", "decision", "reason", "asset"], "title": "TradeAuditCreate"}, "TradeAuditPublic": {"properties": {"agent_id": {"type": "string", "maxLength": 100, "title": "Agent Id", "description": "ID of the agent making the decision"}, "decision": {"type": "string", "maxLength": 20, "title": "Decision", "description": "BUY, SELL, or HOLD"}, "reason": {"type": "string", "maxLength": 1000, "title": "Reason", "description": "Explanation for the decision"}, "confidence_score": {"type": "number", "title": "Confidence Score", "description": "Model confidence (0.0 - 1.0)", "default": 0.0}, "asset": {"type": "string", "maxLength": 20, "title": "Asset", "description": "The asset being traded (e.g. BTC)"}, "price_at_decision": {"anyOf": [{"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Price At Decision"}, "is_executed": {"type": "boolean", "title": "Is Executed", "description": "Whether the trade was actually placed", "default": false}, "execution_order_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Execution Order Id", "description": "Link to the Order if placed"}, "block_reason": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Block Reason", "description": "Reason if blocked by The Guard"}, "id": {"type": "string", "format": "uuid", "title": "Id"}, "timestamp": {"type": "string", "format": "date-time", "title": "Timestamp"}}, "type": "object", "required": ["agent_id", "decision", "reason", "asset", "id", "timestamp"], "title": "TradeAuditPublic"}, "TradeAudits": {"properties": {"data": {"items": {"$ref": "#/components/schemas/TradeAuditPublic"}, "type": "array", "title": "Data"}, "count": {"type": "integer", "title": "Count"}}, "type": "object", "required": ["data", "count"], "title": "TradeAudits"}, "UnrealizedPnLResponse": {"properties": {"is_loading": {"type": "boolean", "title": "Is Loading", "description": "Indicates if the data is currently being refreshed or computed.", "default": false}, "last_updated": {"type": "string", "format": "date-time", "title": "Last Updated", "description": "Timestamp when the data was last updated."}, "data_staleness_seconds": {"type": "number", "title": "Data Staleness Seconds", "description": "Number of seconds since the data was last updated.", "default": 0.0}, "unrealized_pnl": {"type": "number", "title": "Unrealized Pnl", "description": "Total unrealized profit/loss"}}, "type": "object", "required": ["unrealized_pnl"], "title": "UnrealizedPnLResponse", "description": "Response model for unrealized P&L"}, "UpdatePassword": {"properties": {"current_password": {"type": "string", "maxLength": 128, "minLength": 8, "title": "Current Password"}, "new_password": {"type": "string", "maxLength": 128, "minLength": 8, "title": "New Password"}}, "type": "object", "required": ["current_password", "new_password"], "title": "UpdatePassword"}, "UserCreate": {"properties": {"email": {"type": "string", "maxLength": 255, "format": "email", "title": "Email"}, "is_active": {"type": "boolean", "title": "Is Active", "default": true}, "is_superuser": {"type": "boolean", "title": "Is Superuser", "default": false}, "full_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Full Name"}, "timezone": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Timezone", "default": "UTC"}, "preferred_currency": {"anyOf": [{"type": "string", "maxLength": 10}, {"type": "null"}], "title": "Preferred Currency", "default": "AUD"}, "risk_tolerance": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Risk Tolerance", "default": "medium"}, "trading_experience": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Trading Experience", "default": "beginner"}, "password": {"type": "string", "maxLength": 128, "minLength": 8, "title": "Password"}}, "type": "object", "required": ["email", "password"], "title": "UserCreate"}, "UserLLMCredentialsCreate": {"properties": {"provider": {"type": "string", "maxLength": 20, "minLength": 1, "title": "Provider", "description": "LLM provider: openai, google, anthropic"}, "model_name": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Model Name", "description": "Model name (e.g., gpt-4, gemini-1.5-pro)"}, "api_key": {"type": "string", "maxLength": 500, "minLength": 1, "title": "Api Key", "description": "API key from the provider"}, "is_default": {"type": "boolean", "title": "Is Default", "description": "Set as default LLM for this user", "default": false}}, "type": "object", "required": ["provider", "api_key"], "title": "UserLLMCredentialsCreate", "description": "Schema for creating user LLM credentials"}, "UserLLMCredentialsPublic": {"properties": {"provider": {"type": "string", "maxLength": 20, "title": "Provider"}, "model_name": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Model Name"}, "is_default": {"type": "boolean", "title": "Is Default", "default": false}, "is_active": {"type": "boolean", "title": "Is Active", "default": true}, "id": {"type": "string", "format": "uuid", "title": "Id"}, "user_id": {"type": "string", "format": "uuid", "title": "User Id"}, "api_key_masked": {"type": "string", "title": "Api Key Masked", "description": "Masked API key (last 4 characters visible)"}, "last_validated_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Last Validated At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["provider", "id", "user_id", "api_key_masked", "last_validated_at", "created_at", "updated_at"], "title": "UserLLMCredentialsPublic", "description": "Schema for returning user LLM credentials via API (with masked API key)"}, "UserLLMCredentialsValidate": {"properties": {"provider": {"type": "string", "title": "Provider", "description": "LLM provider: openai, google, anthropic"}, "api_key": {"type": "string", "title": "Api Key", "description": "API key to validate"}, "model_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Model Name", "description": "Optional model name to test"}}, "type": "object", "required": ["provider", "api_key"], "title": "UserLLMCredentialsValidate", "description": "Schema for validating an API key before saving"}, "UserLLMCredentialsValidationResult": {"properties": {"is_valid": {"type": "boolean", "title": "Is Valid"}, "provider": {"type": "string", "title": "Provider"}, "model_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Model Name"}, "error_message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error Message"}, "details": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Details"}}, "type": "object", "required": ["is_valid", "provider"], "title": "UserLLMCredentialsValidationResult", "description": "Response for API key validation"}, "UserProfilePublic": {"properties": {"email": {"type": "string", "title": "Email"}, "full_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Full Name"}, "timezone": {"type": "string", "title": "Timezone"}, "preferred_currency": {"type": "string", "title": "Preferred Currency"}, "risk_tolerance": {"type": "string", "title": "Risk Tolerance"}, "trading_experience": {"type": "string", "title": "Trading Experience"}, "has_coinspot_credentials": {"type": "boolean", "title": "Has Coinspot Credentials", "default": false}}, "type": "object", "required": ["email", "timezone", "preferred_currency", "risk_tolerance", "trading_experience"], "title": "UserProfilePublic", "description": "Public user profile response with OMC-specific fields"}, "UserProfileUpdate": {"properties": {"full_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Full Name"}, "timezone": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Timezone"}, "preferred_currency": {"anyOf": [{"type": "string", "maxLength": 10}, {"type": "null"}], "title": "Preferred Currency"}, "risk_tolerance": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Risk Tolerance"}, "trading_experience": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Trading Experience"}}, "type": "object", "title": "UserProfileUpdate", "description": "User profile update request with validation"}, "UserPublic": {"properties": {"email": {"type": "string", "maxLength": 255, "format": "email", "title": "Email"}, "is_active": {"type": "boolean", "title": "Is Active", "default": true}, "is_superuser": {"type": "boolean", "title": "Is Superuser", "default": false}, "full_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Full Name"}, "timezone": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Timezone", "default": "UTC"}, "preferred_currency": {"anyOf": [{"type": "string", "maxLength": 10}, {"type": "null"}], "title": "Preferred Currency", "default": "AUD"}, "risk_tolerance": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Risk Tolerance", "default": "medium"}, "trading_experience": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Trading Experience", "default": "beginner"}, "id": {"type": "string", "format": "uuid", "title": "Id"}}, "type": "object", "required": ["email", "id"], "title": "UserPublic"}, "UserRegister": {"properties": {"email": {"type": "string", "maxLength": 255, "format": "email", "title": "Email"}, "password": {"type": "string", "maxLength": 128, "minLength": 8, "title": "Password"}, "full_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Full Name"}}, "type": "object", "required": ["email", "password"], "title": "UserRegister"}, "UserUpdate": {"properties": {"email": {"anyOf": [{"type": "string", "maxLength": 255, "format": "email"}, {"type": "null"}], "title": "Email"}, "is_active": {"type": "boolean", "title": "Is Active", "default": true}, "is_superuser": {"type": "boolean", "title": "Is Superuser", "default": false}, "full_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Full Name"}, "timezone": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Timezone", "default": "UTC"}, "preferred_currency": {"anyOf": [{"type": "string", "maxLength": 10}, {"type": "null"}], "title": "Preferred Currency", "default": "AUD"}, "risk_tolerance": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Risk Tolerance", "default": "medium"}, "trading_experience": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Trading Experience", "default": "beginner"}, "password": {"anyOf": [{"type": "string", "maxLength": 128, "minLength": 8}, {"type": "null"}], "title": "Password"}}, "type": "object", "title": "UserUpdate"}, "UserUpdateMe": {"properties": {"full_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Full Name"}, "email": {"anyOf": [{"type": "string", "maxLength": 255, "format": "email"}, {"type": "null"}], "title": "Email"}, "timezone": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Timezone"}, "preferred_currency": {"anyOf": [{"type": "string", "maxLength": 10}, {"type": "null"}], "title": "Preferred Currency"}, "risk_tolerance": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Risk Tolerance"}, "trading_experience": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Trading Experience"}}, "type": "object", "title": "UserUpdateMe"}, "UsersPublic": {"properties": {"data": {"items": {"$ref": "#/components/schemas/UserPublic"}, "type": "array", "title": "Data"}, "count": {"type": "integer", "title": "Count"}}, "type": "object", "required": ["data", "count"], "title": "UsersPublic"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}}, "securitySchemes": {"OAuth2PasswordBearer": {"type": "oauth2", "flows": {"password": {"scopes": {}, "tokenUrl": "/api/v1/login/access-token"}}}}}}
