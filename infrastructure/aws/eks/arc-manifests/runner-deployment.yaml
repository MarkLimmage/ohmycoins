apiVersion: actions.summerwind.dev/v1alpha1
kind: RunnerDeployment
metadata:
  name: ohmycoins-runners
  namespace: actions-runner-system
spec:
  replicas: 1
  template:
    spec:
      repository: MarkLimmage/ohmycoins
      # Optional: Add labels to runners for workflow targeting
      labels:
        - self-hosted
        - eks
        - test
      # Runner pod resource requests and limits
      resources:
        limits:
          cpu: "2.0"
          memory: "4Gi"
        requests:
          cpu: "1.0"
          memory: "2Gi"
      # Use Kubernetes Docker-in-Docker for container builds
      dockerdWithinRunnerContainer: true
      # Ephemeral runners (destroyed after each job for clean state)
      ephemeral: true
      # Node selector to target specific nodes (optional)
      # nodeSelector:
      #   workload: github-actions
      # Tolerations for tainted nodes (optional)
      # tolerations:
      # - key: "dedicated"
      #   operator: "Equal"
      #   value: "github-actions"
      #   effect: "NoSchedule"
