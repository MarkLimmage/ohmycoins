# ============================================
# Oh My Coins (OMC!) - Environment Configuration Template
# ============================================
# This file documents all required environment variables for the OMC platform.
# Copy this file to .env and update the values for your environment.
#
# SECURITY NOTE: Never commit the actual .env file to version control!
# The .env file contains sensitive secrets and should be kept secure.
# ============================================

# ============================================
# Core Application Configuration
# ============================================

# Domain configuration
# For local development, use localhost. For staging/production, use your actual domain.
DOMAIN=localhost
# Examples:
# - Local: localhost
# - Staging: staging.ohmycoins.com
# - Production: ohmycoins.com

# Frontend Host URL (used by backend to generate links in emails)
FRONTEND_HOST=http://localhost:5173
# Examples:
# - Local: http://localhost:5173
# - Staging: https://app-staging.ohmycoins.com
# - Production: https://app.ohmycoins.com

# Environment: local, staging, production
# This determines how secrets are loaded and which security measures are enforced.
ENVIRONMENT=local

# Project identification
PROJECT_NAME="Oh My Coins (OMC!)"
STACK_NAME=ohmycoins

# ============================================
# Backend API Configuration
# ============================================

# CORS origins (comma-separated list of allowed origins)
BACKEND_CORS_ORIGINS="http://localhost,http://localhost:5173,https://localhost,https://localhost:5173"

# Secret key for JWT token signing and session management
# CRITICAL: Generate a secure random key for production!
# Generate with: openssl rand -hex 32
SECRET_KEY=<generate-with-openssl-rand-hex-32>

# First superuser credentials (created on initial deployment)
FIRST_SUPERUSER=admin@example.com
FIRST_SUPERUSER_PASSWORD=<generate-secure-password>

# ============================================
# Database Configuration (PostgreSQL)
# ============================================

# Database connection parameters
POSTGRES_SERVER=localhost
POSTGRES_PORT=5432
POSTGRES_DB=app
POSTGRES_USER=postgres
# CRITICAL: Generate a secure password for production!
# Generate with: openssl rand -base64 32
POSTGRES_PASSWORD=<generate-secure-password>

# ============================================
# Email Configuration (SMTP)
# ============================================

# SMTP server configuration for sending emails
SMTP_HOST=
SMTP_USER=
SMTP_PASSWORD=
EMAILS_FROM_EMAIL=info@example.com
SMTP_TLS=True
SMTP_SSL=False
SMTP_PORT=587

# Leave SMTP_HOST empty to disable email functionality (optional for development)

# ============================================
# Redis Configuration (Agent State Management)
# ============================================

# Redis connection for caching and agent state persistence
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
# REDIS_PASSWORD=  # Optional, uncomment if you set a password

# ============================================
# AI Agent System Configuration
# ============================================

# LLM Provider selection
LLM_PROVIDER=openai  # Options: openai, anthropic, azure, local

# OpenAI Configuration
# CRITICAL: Required for AI agent functionality
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=<your-openai-api-key-here>
OPENAI_MODEL=gpt-4-turbo-preview

# Anthropic Configuration (alternative to OpenAI)
# ANTHROPIC_API_KEY=<your-anthropic-api-key-here>
# ANTHROPIC_MODEL=claude-3-sonnet-20240229

# LLM Request Configuration
MAX_TOKENS_PER_REQUEST=4000
ENABLE_STREAMING=True

# Agent Execution Limits
AGENT_MAX_ITERATIONS=10
AGENT_TIMEOUT_SECONDS=300
AGENT_CODE_EXECUTION_TIMEOUT=60

# ============================================
# Data Collection API Keys
# ============================================

# CryptoPanic API for crypto news sentiment (Human Ledger)
# Get your free API key from: https://cryptopanic.com/developers/api/
CRYPTOPANIC_API_KEY=<your-cryptopanic-api-key-here>

# Newscatcher API for premium news with sentiment (Human Ledger - Tier 2)
# Get your API key from: https://www.newscatcherapi.com/
NEWSCATCHER_API_KEY=<your-newscatcher-api-key-here>

# Nansen API for smart money tracking (Glass Ledger - Tier 2)
# Get your API key from: https://www.nansen.ai/
NANSEN_API_KEY=<your-nansen-api-key-here>

# ============================================
# Database Seeding Configuration (Development Only)
# ============================================

# Automatic database seeding for development environments
# Set to false in staging/production
AUTO_SEED_DB=true  # Set to false to disable automatic seeding
SEED_USER_COUNT=10  # Number of test users to generate
SEED_ALGORITHM_COUNT=15  # Number of test algorithms to generate
SEED_AGENT_SESSION_COUNT=20  # Number of agent sessions to generate
SEED_COLLECT_REAL_DATA=true  # Set to false to skip API calls (faster seeding)

# ============================================
# Error Tracking & Monitoring
# ============================================

# Sentry DSN for error tracking (optional)
# Get your DSN from: https://sentry.io
SENTRY_DSN=

# ============================================
# Docker Configuration
# ============================================

# Docker image names for backend and frontend
# Update these to match your container registry
DOCKER_IMAGE_BACKEND=backend
DOCKER_IMAGE_FRONTEND=frontend

# For production deployments using GitHub Container Registry:
# DOCKER_IMAGE_BACKEND=ghcr.io/your-org/ohmycoins-backend
# DOCKER_IMAGE_FRONTEND=ghcr.io/your-org/ohmycoins-frontend

# ============================================
# AWS Configuration (Staging & Production)
# ============================================

# These variables are automatically set by ECS when running in AWS
# Do not set these for local development
# AWS_SECRET_ARN=arn:aws:secretsmanager:region:account:secret:name
# AWS_REGION=ap-southeast-2

# ============================================
# Configuration Notes
# ============================================

# REQUIRED VARIABLES (must be set):
# - DOMAIN
# - FRONTEND_HOST
# - ENVIRONMENT
# - SECRET_KEY
# - FIRST_SUPERUSER
# - FIRST_SUPERUSER_PASSWORD
# - POSTGRES_SERVER
# - POSTGRES_PORT
# - POSTGRES_DB
# - POSTGRES_USER
# - POSTGRES_PASSWORD
# - REDIS_HOST
# - REDIS_PORT
# - OPENAI_API_KEY (for AI agent functionality)

# OPTIONAL VARIABLES (can be left empty):
# - SMTP_HOST, SMTP_USER, SMTP_PASSWORD (for email functionality)
# - SENTRY_DSN (for error tracking)
# - REDIS_PASSWORD (if Redis authentication is enabled)
# - ANTHROPIC_API_KEY (if using Anthropic instead of OpenAI)

# SECRETS MANAGEMENT:
# - Local: Secrets are loaded from this .env file
# - Staging/Production: Secrets are loaded from AWS Secrets Manager
#   The backend automatically switches based on the ENVIRONMENT variable
